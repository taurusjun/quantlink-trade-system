## Context

系统已完成 SysV MWMR SHM 直连架构迁移。现有文档分散：
- `tbsrc-golang_v2_架构更新` — 架构设计与迁移对照（偏设计决策）
- `hftbase_MWMR_Go复刻技术规格` — MWMR 队列实现细节（偏底层实现）
- `DEPLOY_GUIDE_2026-02-24` — 部署运维指南（偏操作步骤）

缺少一份从「理解系统」角度出发的全景文档，能让开发者在 30 分钟内建立全局认知。

## Goals / Non-Goals

**Goals:**
- 提供单一入口级文档，覆盖系统全貌
- 从数据流视角串联所有组件
- 包含关键数据结构（消息体布局、SHM 队列内存布局）
- 说明 Go 包与 C++ 组件的职责划分
- 记录关键设计决策及其原因

**Non-Goals:**
- 不替代部署指南（操作步骤在 DEPLOY_GUIDE 中）
- 不替代 MWMR 技术规格（实现细节在专门文档中）
- 不涉及迁移历史或 C++ 原代码对照（在架构更新文档中）

## Decisions

### Decision 1: 文档定位为「架构理解」而非「架构设计」

文档面向新开发者和未来维护者，以「理解现有系统」为目标。使用自顶向下的叙述结构：总览 → 组件 → 数据流 → 消息格式 → 包职责 → 配置 → 启动流程 → 设计决策。

### Decision 2: 使用 ASCII 图而非外部图片

所有架构图使用 ASCII art 绘制，确保在终端、Markdown 预览、GitHub 上均可阅读，无需额外工具。

### Decision 3: 文档放置在 `docs/系统分析/`

按照项目文档分类规范，架构分析类文档放在 `系统分析/` 目录。命名遵循 `模块_摘要_YYYY-MM-DD.md` 格式。

### Decision 4: 包含消息体字段级细节

虽然字段细节较多，但对于 HFT 系统，字节偏移和字段布局是核心知识。文档中以表格形式列出关键消息体的字段，并标注大小和偏移。
