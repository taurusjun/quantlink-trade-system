# ğŸ¯ å¦‚ä½•è®¿é—® Dashboard

## ğŸ“Š å¿«é€Ÿè®¿é—®

### ä¸»è¦ç•Œé¢

1. **Dashboardï¼ˆä»ªè¡¨æ¿ï¼‰**
   ```
   http://localhost:9201/dashboard
   ```
   - å®æ—¶ç­–ç•¥çŠ¶æ€
   - ç›ˆäºå›¾è¡¨
   - æŒä»“ä¿¡æ¯
   - é£é™©æŒ‡æ ‡
   - ä¿¡å·å¼ºåº¦

2. **æ§åˆ¶é¢æ¿**
   ```
   http://localhost:9201/control
   ```
   - ç­–ç•¥æ¿€æ´»/åœæ­¢
   - å‚æ•°è°ƒæ•´
   - æ‰‹åŠ¨å¹³ä»“æ§åˆ¶

---

## ğŸš€ ä½¿ç”¨æ­¥éª¤

### 1. å¯åŠ¨ç³»ç»Ÿ

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬
./scripts/live/start_simulator.sh

# æˆ–è€…å¿«é€ŸéªŒè¯
./scripts/test/quick_verify_simulator.sh
```

### 2. æ‰“å¼€æµè§ˆå™¨

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
http://localhost:9201/dashboard
```

### 3. æ¿€æ´»ç­–ç•¥

**æ–¹å¼ä¸€ï¼šåœ¨ Dashboard é¡µé¢ä¸Šç‚¹å‡»"æ¿€æ´»ç­–ç•¥"æŒ‰é’®**

**æ–¹å¼äºŒï¼šä½¿ç”¨ API**
```bash
curl -X POST http://localhost:9201/api/v1/strategy/activate
```

### 4. æŸ¥çœ‹å®æ—¶æ•°æ®

Dashboard ä¼šè‡ªåŠ¨æ¯ 2 ç§’åˆ·æ–°ä¸€æ¬¡æ•°æ®ï¼Œæ˜¾ç¤ºï¼š
- å½“å‰æŒä»“
- å®æ—¶ç›ˆäº
- Z-score
- ä¿¡å·å¼ºåº¦
- ç›¸å…³æ€§æŒ‡æ ‡

---

## ğŸ“¡ API ç«¯ç‚¹

### Trader API (ç«¯å£ 9201)

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/dashboard` | GET | Dashboard é¡µé¢ |
| `/control` | GET | æ§åˆ¶é¢æ¿é¡µé¢ |
| `/api/v1/strategy/status` | GET | è·å–ç­–ç•¥çŠ¶æ€ |
| `/api/v1/strategy/activate` | POST | æ¿€æ´»ç­–ç•¥ |
| `/api/v1/strategy/deactivate` | POST | åœæ­¢ç­–ç•¥ |

### Counter Bridge API (ç«¯å£ 8080)

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/positions` | GET | æŸ¥è¯¢æŒä»“ |
| `/simulator/stats` | GET | æ¨¡æ‹Ÿå™¨ç»Ÿè®¡ |
| `/simulator/account` | GET | è´¦æˆ·ä¿¡æ¯ |
| `/health` | GET | å¥åº·æ£€æŸ¥ |

---

## ğŸ” æµ‹è¯• API

### æŸ¥çœ‹ç­–ç•¥çŠ¶æ€
```bash
curl http://localhost:9201/api/v1/strategy/status | jq .
```

### æ¿€æ´»ç­–ç•¥
```bash
curl -X POST http://localhost:9201/api/v1/strategy/activate
```

### æŸ¥çœ‹æŒä»“
```bash
curl http://localhost:8080/positions | jq .
```

### æŸ¥çœ‹æ¨¡æ‹Ÿå™¨ç»Ÿè®¡
```bash
curl http://localhost:8080/simulator/stats | jq .
```

### æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯
```bash
curl http://localhost:8080/simulator/account | jq .
```

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ— æ³•è®¿é—® Dashboard

**æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œï¼š**
```bash
# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep trader

# æŸ¥çœ‹ç«¯å£
lsof -i :9201
```

**é‡å¯æœåŠ¡ï¼š**
```bash
./scripts/live/stop_all.sh
./scripts/live/start_simulator.sh
```

### é—®é¢˜ 2: Dashboard æ˜¾ç¤ºç©ºç™½

**æ£€æŸ¥ç­–ç•¥æ˜¯å¦æ¿€æ´»ï¼š**
```bash
curl http://localhost:9201/api/v1/strategy/status | jq .active
```

**æ¿€æ´»ç­–ç•¥ï¼š**
```bash
curl -X POST http://localhost:9201/api/v1/strategy/activate
```

### é—®é¢˜ 3: æ²¡æœ‰å®æ—¶æ•°æ®æ›´æ–°

**æ£€æŸ¥è¡Œæƒ…æ˜¯å¦æµåŠ¨ï¼š**
```bash
# æŸ¥çœ‹ trader æ—¥å¿—
tail -f log/trader.log | grep -i "market\|tick"

# æŸ¥çœ‹ md_simulator æ˜¯å¦è¿è¡Œ
pgrep -f md_simulator
```

---

## ğŸ“± Dashboard åŠŸèƒ½è¯´æ˜

### ä¸»ç•Œé¢ï¼ˆDashboardï¼‰

1. **ç­–ç•¥çŠ¶æ€å¡ç‰‡**
   - è¿è¡ŒçŠ¶æ€ï¼ˆè¿è¡Œä¸­/å·²åœæ­¢ï¼‰
   - æ¿€æ´»çŠ¶æ€
   - è¿è¡Œæ—¶é—´

2. **ç›ˆäºå¡ç‰‡**
   - å®æ—¶ç›ˆäº
   - å®ç°ç›ˆäº
   - æµ®åŠ¨ç›ˆäº
   - æ‰‹ç»­è´¹

3. **æŒä»“å¡ç‰‡**
   - å½“å‰æŒä»“å“ç§
   - å¤šç©ºæ–¹å‘
   - æŒä»“æ•°é‡
   - æŒä»“å‡ä»·

4. **é£é™©æŒ‡æ ‡**
   - æœ€å¤§å›æ’¤
   - æ³¢åŠ¨ç‡
   - ä»“ä½ä½¿ç”¨ç‡

5. **ç­–ç•¥æŒ‡æ ‡**
   - Z-scoreï¼ˆå…³é”®æŒ‡æ ‡ï¼‰
   - ä¿¡å·å¼ºåº¦
   - ç›¸å…³æ€§
   - å¯¹å†²æ¯”ç‡

6. **äº¤æ˜“è…¿ä¿¡æ¯**
   - æ¯æ¡è…¿çš„å“ç§
   - ä»·æ ¼
   - æŒä»“
   - æ–¹å‘

### æ§åˆ¶é¢æ¿ï¼ˆControlï¼‰

1. **ç­–ç•¥æ§åˆ¶**
   - æ¿€æ´»/åœæ­¢æŒ‰é’®
   - ç´§æ€¥å¹³ä»“æŒ‰é’®

2. **å‚æ•°è°ƒæ•´**
   - å…¥åœºé˜ˆå€¼
   - å‡ºåœºé˜ˆå€¼
   - æœ€å¤§æŒä»“
   - æœ€å¤§æ•å£

3. **æ‰‹åŠ¨æ“ä½œ**
   - æ‰‹åŠ¨å¼€ä»“
   - æ‰‹åŠ¨å¹³ä»“
   - è°ƒæ•´æŒä»“

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. ç›‘æ§å…³é”®æŒ‡æ ‡

é‡ç‚¹å…³æ³¨ï¼š
- **Z-score**: ç»å¯¹å€¼ > 0.5 æ—¶å¯èƒ½å…¥åœº
- **ç›¸å…³æ€§**: > 0.95 è¡¨ç¤ºå“ç§ç›¸å…³æ€§å¼º
- **ä¿¡å·å¼ºåº¦**: è¶Šæ¥è¿‘ 1 è¡¨ç¤ºä¿¡å·è¶Šå¼º

### 2. ç­–ç•¥æ¿€æ´»æ—¶æœº

å»ºè®®ï¼š
- å¸‚åœºå¼€ç›˜åç­‰å¾… 5-10 åˆ†é’Ÿ
- ç¡®ä¿è¡Œæƒ…æ•°æ®ç¨³å®š
- æ£€æŸ¥ç›¸å…³æ€§æŒ‡æ ‡æ­£å¸¸

### 3. é£é™©æ§åˆ¶

æ³¨æ„ï¼š
- è®¾ç½®åˆç†çš„æœ€å¤§æŒä»“
- å…³æ³¨æœ€å¤§å›æ’¤
- å®šæœŸæ£€æŸ¥è´¦æˆ·ä½™é¢

---

## ğŸ“Š æ•°æ®åˆ·æ–°é¢‘ç‡

- Dashboard: æ¯ 2 ç§’è‡ªåŠ¨åˆ·æ–°
- ç­–ç•¥è®¡ç®—: æ¯ä¸ª tick æ›´æ–°
- æŒä»“æŸ¥è¯¢: å®æ—¶
- è´¦æˆ·ä¿¡æ¯: å®æ—¶

---

## ğŸ¨ Dashboard å¿«ç…§ç¤ºä¾‹

å½“ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     Strategy Status                    â•‘
â•‘  âœ“ Running  âœ“ Active                  â•‘
â•‘  Uptime: 00:15:32                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     P&L                                â•‘
â•‘  Total:      +1,250.00                â•‘
â•‘  Realized:   +1,000.00                â•‘
â•‘  Unrealized:   +250.00                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     Key Indicators                     â•‘
â•‘  Z-score:     0.65 â¬†                  â•‘
â•‘  Signal:      0.82 ğŸŸ¢                 â•‘
â•‘  Correlation: 0.997                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“ è·å–å¸®åŠ©

### æŸ¥çœ‹æ—¥å¿—
```bash
# Trader æ—¥å¿—
tail -f log/trader.log

# Counter Bridge æ—¥å¿—
tail -f log/counter_bridge.log

# æ‰€æœ‰æ—¥å¿—
tail -f log/*.log
```

### ç³»ç»ŸçŠ¶æ€
```bash
# æ£€æŸ¥æ‰€æœ‰è¿›ç¨‹
ps aux | grep -E "nats|simulator|gateway|trader"

# æ£€æŸ¥ç«¯å£
lsof -i :9201  # Trader
lsof -i :8080  # Counter Bridge
```

### é‡å¯ç³»ç»Ÿ
```bash
# åœæ­¢
./scripts/live/stop_all.sh

# å¯åŠ¨
./scripts/live/start_simulator.sh

# ç­‰å¾… 10 ç§’åè®¿é—®
# http://localhost:9201/dashboard
```

---

## âœ… éªŒè¯æ¸…å•

åœ¨è®¿é—® Dashboard å‰ï¼Œç¡®è®¤ï¼š

- [ ] æ‰€æœ‰è¿›ç¨‹éƒ½åœ¨è¿è¡Œ
  ```bash
  pgrep -f "nats|simulator|gateway|trader"
  ```

- [ ] ç«¯å£æ­£å¸¸ç›‘å¬
  ```bash
  lsof -i :9201 && lsof -i :8080
  ```

- [ ] API æ­£å¸¸å“åº”
  ```bash
  curl http://localhost:9201/api/v1/strategy/status
  ```

- [ ] ç­–ç•¥å·²æ¿€æ´»
  ```bash
  curl -X POST http://localhost:9201/api/v1/strategy/activate
  ```

å¦‚æœä»¥ä¸Šéƒ½æ­£å¸¸ï¼ŒDashboard å°±å¯ä»¥æ­£å¸¸è®¿é—®å’Œä½¿ç”¨äº†ï¼

---

**æœ€åæ›´æ–°**: 2026-01-30 15:30
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
