# QuantlinkTrader Test Configuration File
# 测试专用配置 - 无交易时段限制，全天运行
# 使用方法: ./bin/trader -config config/trader.test.yaml

# ═══════════════════════════════════════════════════════════
# System Configuration
# ═══════════════════════════════════════════════════════════
system:
  mode: "live"                          # 运行模式: live, backtest, simulation
  multi_strategy: true                  # 启用多策略模式（用于订单和持仓追踪）

# ═══════════════════════════════════════════════════════════
# Strategy Configuration (Multi-Strategy Mode)
# ═══════════════════════════════════════════════════════════
strategies:
  - id: "test_92201"                    # 策略唯一标识符
    type: "pairwise_arb"                # 策略类型
    enabled: true                       # 是否启用此策略
    allocation: 0.5                     # 资金分配比例
    symbols:
      - "ag2603"
      - "ag2605"
    exchanges:
      - "SHFE"
    max_position_size: 100
    max_exposure: 1000000.0
    parameters:
      spread_type: "difference"
      lookback_period: 100.0
      entry_zscore: 0.5
      exit_zscore: 0.2
      order_size: 10.0
      min_correlation: 0.3

# ═══════════════════════════════════════════════════════════
# Trading Session Configuration
# ═══════════════════════════════════════════════════════════
session:
  start_time: "00:00:00"
  end_time: "23:59:59"
  timezone: "Asia/Shanghai"
  auto_start: true
  auto_stop: false
  auto_activate: false

# ═══════════════════════════════════════════════════════════
# Risk Management Configuration
# ═══════════════════════════════════════════════════════════
risk:
  max_drawdown: 10000.0
  stop_loss: 50000.0
  max_loss: 100000.0
  daily_loss_limit: 200000.0
  max_reject_count: 10
  check_interval_ms: 100

# ═══════════════════════════════════════════════════════════
# Strategy Engine Configuration
# ═══════════════════════════════════════════════════════════
engine:
  ors_gateway_addr: "localhost:50052"
  nats_addr: "nats://localhost:4222"
  gateway_addr: "localhost:8080"
  md_channel_size: 10000
  order_channel_size: 1000
  enable_async_order: true

# ═══════════════════════════════════════════════════════════
# Portfolio Configuration
# ═══════════════════════════════════════════════════════════
portfolio:
  initial_capital: 1000000.0
  cash_reserve_ratio: 0.1
  max_positions: 10
  rebalance_threshold: 0.05

# ═══════════════════════════════════════════════════════════
# Logging Configuration
# ═══════════════════════════════════════════════════════════
logging:
  level: "info"
  file: "./log/trader.test.log"
  max_size_mb: 100
  max_backups: 10
  max_age_days: 30

# ═══════════════════════════════════════════════════════════
# API Server Configuration
# ═══════════════════════════════════════════════════════════
api:
  enabled: true
  host: "0.0.0.0"
  port: 9201
  enable_swagger: true
  enable_pprof: false
