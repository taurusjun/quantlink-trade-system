# Pairwise Arbitrage Strategy Configuration Example
# 配对套利策略配置示例

system:
  strategy_id: "94201"
  mode: "simulation"

strategy:
  type: "pairwise_arb"
  symbols:
    - "ag2502"                          # 白银近月
    - "ag2504"                          # 白银远月
  exchanges:
    - "SHFE"
    - "SHFE"
  max_position_size: 50
  max_exposure: 300000.0

  parameters:
    # === C++ 策略标识（用于 daily_init 文件） ===
    # C++: m_strategyID，决定 daily_init 文件名
    # 例如 strategy_id: 92201 对应 data/daily_init.92201
    strategy_id: 94201

    # Pairwise Arbitrage Strategy Parameters
    lookback_period: 100                # 回看周期
    entry_zscore: 2.0                   # 入场 Z-score 阈值
    exit_zscore: 0.5                    # 出场 Z-score 阈值
    order_size: 10                      # 下单数量
    min_correlation: 0.7                # 最小相关系数
    spread_type: "difference"           # 价差类型: difference, ratio
    use_cointegration: false            # 使用协整检验
    trade_interval_ms: 3000             # 交易间隔（毫秒）

session:
  start_time: "09:00:00"
  end_time: "15:00:00"
  timezone: "Asia/Shanghai"
  auto_start: true
  auto_stop: true

risk:
  max_drawdown: 5000.0
  stop_loss: 25000.0
  max_loss: 50000.0
  daily_loss_limit: 100000.0
  max_reject_count: 10
  check_interval_ms: 100

engine:
  ors_gateway_addr: "localhost:50052"
  nats_addr: "nats://localhost:4222"
  order_queue_size: 100
  timer_interval: 5s
  max_concurrent_orders: 10

portfolio:
  total_capital: 300000.0
  strategy_allocation:
    "94201": 1.0
  rebalance_interval_sec: 3600
  min_allocation: 0.05
  max_allocation: 0.50
  enable_auto_rebalance: false
  enable_correlation_calc: false

logging:
  level: "info"
  file: "./log/trader.94201.log"
  max_size_mb: 100
  max_backups: 10
  max_age_days: 30
  compress: true
  console: true
  json_format: false
