# Web UI å¿«é€Ÿå¼€å§‹æŒ‡å—

## ä¸€é”®æµ‹è¯•ï¼ˆæ¨èï¼‰

```bash
./testWebUI.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. âœ… æ£€æŸ¥ç¼–è¯‘çŠ¶æ€
2. âœ… æ£€æŸ¥é…ç½®æ–‡ä»¶
3. âœ… åœæ­¢æ—§è¿›ç¨‹ï¼ˆå¦‚æœ‰ï¼‰
4. âœ… å¯åŠ¨ QuantlinkTraderï¼ˆåå°ï¼‰
5. âœ… æµ‹è¯• API è¿æ¥
6. âœ… æ‰“å¼€æµè§ˆå™¨ï¼ˆå¯é€‰ï¼‰

---

## æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤

### 1ï¸âƒ£ å¯åŠ¨ QuantlinkTrader

```bash
# åå°å¯åŠ¨
nohup ./bin/QuantlinkTrader --config config/trader.ag2502.ag2504.yaml > log/test.out 2>&1 &

# è®°ä½ PIDï¼ˆç”¨äºåç»­åœæ­¢ï¼‰
echo $! > trader.test.pid
```

### 2ï¸âƒ£ æ£€æŸ¥æ˜¯å¦è¿è¡Œ

```bash
./checkTrader.sh
```

åº”è¯¥çœ‹åˆ°ï¼š
```
âœ“ QuantlinkTrader æ­£åœ¨è¿è¡Œ
âœ“ ç«¯å£ 9201 - API æœåŠ¡æ­£å¸¸
```

### 3ï¸âƒ£ æ‰“å¼€ Web UI

```bash
./openWebUI.sh
```

æˆ–ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€ï¼š
```bash
open web/control.html    # macOS
```

### 4ï¸âƒ£ åœ¨ Web UI ä¸­é…ç½®

- **API åœ°å€**: `localhost`
- **ç«¯å£**: `9201`
- ç‚¹å‡» **"ğŸ”„ è¿æ¥å¹¶åˆ·æ–°çŠ¶æ€"**

### 5ï¸âƒ£ æµ‹è¯•æ§åˆ¶

- ç‚¹å‡» **"ğŸš€ æ¿€æ´»ç­–ç•¥"**
- æŸ¥çœ‹çŠ¶æ€å˜åŒ–
- ç‚¹å‡» **"ğŸ›‘ åœæ­¢ç­–ç•¥"**ï¼ˆä¼šæœ‰ç¡®è®¤ï¼‰

---

## æµ‹è¯•å¹¶å‘ä¿æŠ¤

### æµ‹è¯•1: ç–¯ç‹‚ç‚¹å‡»

1. æ‰“å¼€ Web UI
2. è¿ç»­å¿«é€Ÿç‚¹å‡» **"æ¿€æ´»ç­–ç•¥"** 10æ¬¡
3. âœ… **é¢„æœŸ**: åªæ‰§è¡Œä¸€æ¬¡ï¼ŒæŒ‰é’®æ˜¾ç¤º loading

### æµ‹è¯•2: å¤šæ ‡ç­¾é¡µ

1. æ‰“å¼€ä¸¤ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µ
2. åŒæ—¶æ‰“å¼€ `web/control.html`
3. ä¸¤ä¸ªæ ‡ç­¾åŒæ—¶ç‚¹å‡» **"æ¿€æ´»ç­–ç•¥"**
4. âœ… **é¢„æœŸ**: åªæœ‰ä¸€ä¸ªæˆåŠŸï¼Œå¦ä¸€ä¸ªç­‰å¾…

### æµ‹è¯•3: æŸ¥çœ‹æ—¥å¿—éªŒè¯

```bash
# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f log/test.out | grep "Activating strategy"

# ç„¶ååœ¨ Web UI ä¸­ç‚¹å‡»æ¿€æ´»
# åº”è¯¥åªçœ‹åˆ°ä¸€æ¡æ—¥å¿—
```

---

## å¸¸ç”¨å‘½ä»¤

### æ£€æŸ¥çŠ¶æ€
```bash
./checkTrader.sh
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# å®æ—¶æ—¥å¿—
tail -f log/test.out

# æœ€å50è¡Œ
tail -50 log/test.out

# æŸ¥æ‰¾é”™è¯¯
grep -i error log/test.out
```

### åœæ­¢è¿›ç¨‹
```bash
# ä½¿ç”¨ PID
kill $(cat trader.test.pid)

# åœæ­¢æ‰€æœ‰ QuantlinkTrader
pkill -f QuantlinkTrader
```

### æµ‹è¯• APIï¼ˆä¸ç”¨ UIï¼‰
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:9201/api/v1/health | jq

# æŸ¥è¯¢çŠ¶æ€
curl http://localhost:9201/api/v1/strategy/status | jq

# æ¿€æ´»ç­–ç•¥
curl -X POST http://localhost:9201/api/v1/strategy/activate | jq

# åœæ­¢ç­–ç•¥
curl -X POST http://localhost:9201/api/v1/strategy/deactivate | jq
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜1: "QuantlinkTrader æœªè¿è¡Œ"

```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep QuantlinkTrader

# å¦‚æœæ²¡æœ‰ï¼Œæ‰‹åŠ¨å¯åŠ¨
./testWebUI.sh
```

### é—®é¢˜2: "API æœåŠ¡æ— å“åº”"

```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦ç›‘å¬
lsof -i :9201

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
tail -50 log/test.out

# å¯èƒ½éœ€è¦ç­‰å¾…å‡ ç§’è®©æœåŠ¡å®Œå…¨å¯åŠ¨
sleep 5 && curl http://localhost:9201/api/v1/health
```

### é—®é¢˜3: Web UI è¿æ¥å¤±è´¥

1. ç¡®è®¤ API åœ°å€å’Œç«¯å£æ­£ç¡®
2. ç¡®è®¤ QuantlinkTrader æ­£åœ¨è¿è¡Œ
3. ç¡®è®¤é…ç½®æ–‡ä»¶ä¸­ `api.enabled: true`
4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ï¼ˆF12ï¼‰

### é—®é¢˜4: ç‚¹å‡»æŒ‰é’®æ— ååº”

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console æ ‡ç­¾é¡µ
3. æŸ¥çœ‹ Network æ ‡ç­¾é¡µçš„è¯·æ±‚
4. å¯èƒ½æ˜¯ CORS é—®é¢˜ï¼ˆä½¿ç”¨ file:// åè®®åº”è¯¥æ²¡é—®é¢˜ï¼‰

---

## é”®ç›˜å¿«æ·é”®

åœ¨ Web UI ä¸­ï¼š

- `Ctrl + A` - æ¿€æ´»ç­–ç•¥
- `Ctrl + D` - åœæ­¢ç­–ç•¥
- `Ctrl + R` - åˆ·æ–°çŠ¶æ€

---

## å¤šç­–ç•¥ç®¡ç†

å¦‚æœè¦åŒæ—¶è¿è¡Œå¤šä¸ªç­–ç•¥ï¼š

```bash
# ç»ˆç«¯1: ç­–ç•¥ 92201
./bin/QuantlinkTrader --config config/trader.ag2502.ag2504.yaml &

# ç»ˆç«¯2: ç­–ç•¥ 93201
./bin/QuantlinkTrader --config config/trader.al2502.al2503.yaml &

# ç»ˆç«¯3: ç­–ç•¥ 41231
./bin/QuantlinkTrader --config config/trader.rb2505.rb2510.yaml &
```

ç„¶åæ‰“å¼€3ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µï¼Œåˆ†åˆ«è¿æ¥ï¼š
- `localhost:9201` (ç­–ç•¥ 92201)
- `localhost:9301` (ç­–ç•¥ 93201)
- `localhost:4101` (ç­–ç•¥ 41231)

---

## æ¸…ç†æµ‹è¯•ç¯å¢ƒ

```bash
# åœæ­¢æ‰€æœ‰è¿›ç¨‹
pkill -f QuantlinkTrader

# åˆ é™¤ PID æ–‡ä»¶
rm -f trader.*.pid

# æ¸…ç†æ—¥å¿—ï¼ˆå¯é€‰ï¼‰
rm -f log/test.out
```

---

## ä¸‹ä¸€æ­¥

æµ‹è¯•æˆåŠŸåï¼Œå¯ä»¥ï¼š

1. **é›†æˆåˆ°ç”Ÿäº§** - ä¿®æ”¹ runTrade.sh è„šæœ¬
2. **æ·»åŠ ç›‘æ§** - ä½¿ç”¨ Web UI ç›‘æ§å¤šä¸ªç­–ç•¥
3. **è¿œç¨‹è®¿é—®** - é…ç½® SSH éš§é“æˆ– VPN

éœ€è¦å¸®åŠ©ï¼ŸæŸ¥çœ‹ï¼š
- `web/README.md` - å®Œæ•´ Web UI æ–‡æ¡£
- `docs/API_USAGE.md` - API ä½¿ç”¨æ–‡æ¡£
- `docs/P0_P1_IMPLEMENTATION_SUMMARY.md` - å®ç°æ€»ç»“
