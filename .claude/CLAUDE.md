# QuantlinkTrader é¡¹ç›®å¼€å‘è§„åˆ™

## é¡¹ç›®æ¦‚è¿°

QuantlinkTrader æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œé‡‡ç”¨ C++ ç½‘å…³ + Golang ç­–ç•¥å¼•æ“çš„æ··åˆæ¶æ„ã€‚

**å…³é”®æ–‡æ¡£**:
- æ–‡æ¡£ç´¢å¼•ä¸­å¿ƒ: @docs/README.md
- éƒ¨ç½²æŒ‡å—: @docs/æ ¸å¿ƒæ–‡æ¡£/DEPLOY_GUIDE_2026-02-24.md
- æ¶æ„è®¾è®¡: @docs/ç³»ç»Ÿåˆ†æ/tbsrc-golang_v2_æ¶æ„æ›´æ–°_2026-02-13-16_00.md
- MWMR æŠ€æœ¯è§„æ ¼: @docs/ç³»ç»Ÿåˆ†æ/hftbase_MWMR_Goå¤åˆ»æŠ€æœ¯è§„æ ¼_2026-02-13-16_00.md

---

## âš ï¸ å˜æ›´ç®¡ç†è§„åˆ™ï¼ˆå¼ºåˆ¶ï¼‰

**æ‰€æœ‰ä»£ç å’Œé…ç½®å˜æ›´å¿…é¡»é€šè¿‡ OpenSpec (opsx) å·¥ä½œæµè¿›è¡Œç®¡ç†ã€‚**

### æµç¨‹è¦æ±‚

1. **å¼€å§‹å˜æ›´å‰**: ä½¿ç”¨ `/opsx:new` åˆ›å»ºæ–°çš„ change
2. **æ¨è¿›å˜æ›´**: ä½¿ç”¨ `/opsx:continue` é€æ­¥åˆ›å»º artifactsï¼ˆproposal â†’ design â†’ specs â†’ tasksï¼‰
3. **å®æ–½å˜æ›´**: ä½¿ç”¨ `/opsx:apply` æŒ‰ tasks æ‰§è¡Œå®æ–½
4. **éªŒè¯å˜æ›´**: ä½¿ç”¨ `/opsx:verify` éªŒè¯å®æ–½å®Œæ•´æ€§
5. **å½’æ¡£å˜æ›´**: ä½¿ç”¨ `/opsx:archive` å½’æ¡£å·²å®Œæˆçš„ change

### å¿«é€Ÿæµç¨‹ï¼ˆç®€å•å˜æ›´ï¼‰

å¯¹äºæ˜ç¡®çš„å°å˜æ›´ï¼Œå¯ä½¿ç”¨ `/opsx:ff` ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰ artifactsï¼Œç„¶åç›´æ¥å®æ–½å’Œå½’æ¡£ã€‚

### ç¦æ­¢äº‹é¡¹

- âŒ ä¸ç»è¿‡ opsx ç›´æ¥ä¿®æ”¹ä»£ç 
- âŒ å®æ–½å®Œæˆåä¸å½’æ¡£ change
- âŒ è·³è¿‡ artifact åˆ›å»ºç›´æ¥å†™ä»£ç 

### è±å…æƒ…å†µ

- çº¯è°ƒè¯•æ“ä½œï¼ˆæŸ¥çœ‹æ—¥å¿—ã€æ£€æŸ¥çŠ¶æ€ç­‰ä¸ä¿®æ”¹ä»£ç çš„æ“ä½œï¼‰
- ç´§æ€¥ hotfixï¼ˆäº‹åè¡¥å»º change å¹¶å½’æ¡£ï¼‰

---

## âš ï¸ ä»£ç åº“ä½ç½®å®šä¹‰ï¼ˆé‡è¦ï¼‰

**å¿…é¡»åŒºåˆ†ä»¥ä¸‹ä¸¤ä¸ªä»£ç åº“ï¼Œç»å¯¹ä¸å¯æ··æ·†ï¼**

### C++ åŸä»£ç ï¼ˆæ—§ç³»ç»Ÿ - è¿ç§»æºï¼‰

| é¡¹ç›® | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| **tbsrc** | `/Users/user/PWorks/RD/tbsrc/` | C++ åŸå§‹äº¤æ˜“ç³»ç»Ÿï¼ˆç­–ç•¥å±‚ï¼‰ |
| **hftbase** | `/Users/user/PWorks/RD/hftbase/` | HFT åŸºç¡€è®¾æ–½åº“ |
| **ors** | `/Users/user/PWorks/RD/ors/` | è®¢å•è·¯ç”±æœåŠ¡ |

**tbsrc ç›®å½•ç»“æ„**:
| å­ç›®å½• | è¯´æ˜ |
|--------|------|
| `tbsrc/Strategies/` | åŸå§‹ç­–ç•¥å®ç° |
| `tbsrc/Strategies/include/` | ç­–ç•¥ç±»å®šä¹‰ |
| `tbsrc/common/` | å…¬å…±ç»„ä»¶ |
| `tbsrc/main/` | ä¸»ç¨‹åº |

**å…³é”® C++ åŸä»£ç æ–‡ä»¶**:
- `tbsrc/Strategies/PairwiseArbStrategy.cpp` - é…å¯¹å¥—åˆ©ç­–ç•¥
- `tbsrc/Strategies/ExecutionStrategy.cpp` - æ‰§è¡Œç­–ç•¥åŸºç±»
- `tbsrc/Strategies/include/ExecutionStrategy.h` - ç­–ç•¥å¤´æ–‡ä»¶
- `hftbase/` - HFT åŸºç¡€åº“ï¼ˆè¡Œæƒ…å¤„ç†ã€è®¢å•ç®¡ç†ç­‰ï¼‰
- `ors/` - è®¢å•è·¯ç”±æœåŠ¡

### æ–°ä»£ç ï¼ˆå½“å‰é¡¹ç›® - è¿ç§»ç›®æ ‡ï¼‰

| é¡¹ç›® | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| **quantlink-trade-system** | `/Users/user/PWorks/RD/quantlink-trade-system/` | æ–°ç³»ç»Ÿï¼ˆè¿ç§»ç›®æ ‡ï¼‰ |
| Golang ç­–ç•¥ | `tbsrc-golang/pkg/strategy/` | Go ç­–ç•¥å®ç° |
| C++ ç½‘å…³ï¼ˆæ–°å†™ï¼‰ | `gateway/` | æ–°å†™çš„ C++ ç½‘å…³ä»£ç  |

**æ³¨æ„**: `quantlink-trade-system/gateway/` ä¸‹çš„ C++ ä»£ç æ˜¯**æ–°å†™çš„ç½‘å…³ä»£ç **ï¼Œ**ä¸æ˜¯åŸä»£ç **ï¼

### è¿ç§»å¯¹ç…§è¡¨

| C++ åŸä»£ç  (tbsrc) | Go æ–°ä»£ç  (quantlink-trade-system) |
|-------------------|-----------------------------------|
| `tbsrc/Strategies/PairwiseArbStrategy.cpp` | `tbsrc-golang/pkg/strategy/pairwise_arb_strategy.go` |
| `tbsrc/Strategies/ExecutionStrategy.cpp` | `tbsrc-golang/pkg/strategy/base_strategy.go` |
| `tbsrc/Strategies/include/ExecutionStrategy.h` | `tbsrc-golang/pkg/strategy/types.go` |

### æœç´¢åŸä»£ç çš„æ­£ç¡®æ–¹å¼

```bash
# âœ… æ­£ç¡®ï¼šåœ¨åŸä»£ç ç›®å½•ä¸­æœç´¢
grep -r "m_netpos_pass_ytd" /Users/user/PWorks/RD/tbsrc/
grep -r "æŸå…³é”®å­—" /Users/user/PWorks/RD/hftbase/
grep -r "æŸå…³é”®å­—" /Users/user/PWorks/RD/ors/

# âŒ é”™è¯¯ï¼šåœ¨ quantlink-trade-system ä¸­æœç´¢ï¼ˆè¿™é‡Œæ˜¯æ–°ä»£ç ï¼‰
grep -r "m_netpos_pass_ytd" /Users/user/PWorks/RD/quantlink-trade-system/
```

**åŸä»£ç æ ¹ç›®å½•æ±‡æ€»**:
- `/Users/user/PWorks/RD/tbsrc/` - ç­–ç•¥å’Œäº¤æ˜“é€»è¾‘
- `/Users/user/PWorks/RD/hftbase/` - HFT åŸºç¡€è®¾æ–½
- `/Users/user/PWorks/RD/ors/` - è®¢å•è·¯ç”±æœåŠ¡

---

## ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **C++ ç½‘å…³å±‚** (`gateway/`)
   - `md_shm_feeder`: è¡Œæƒ… SHM æ³¨å…¥å™¨ï¼ˆæ”¯æŒ simulator / CTP æ¨¡å¼ï¼‰ï¼Œå†™å…¥ SysV MWMR SHM
   - `counter_bridge`: ç»Ÿä¸€æˆäº¤ç½‘å…³ï¼ˆæ”¯æŒ CTP/Simulator æ’ä»¶ï¼‰ï¼Œè¯»å–è®¢å• SHMã€å†™å…¥å›æŠ¥ SHM

2. **Golang ç­–ç•¥å±‚** (`tbsrc-golang/`)
   - `cmd/trader/`: ç­–ç•¥å¼•æ“ä¸»ç¨‹åºï¼ˆç›´æ¥è¯»å†™ SysV SHMï¼‰
   - `pkg/shm/`: SysV SHM + MWMR Queue å°è£…
   - `pkg/connector/`: Connectorï¼ˆSHM è½®è¯¢ + å‘å•/æ’¤å•ï¼‰
   - `pkg/common/`: CommonClientï¼ˆå›è°ƒåˆ†å‘ï¼‰
   - `pkg/strategy/`: ç­–ç•¥å®ç°ï¼ˆExecutionStrategyã€PairwiseArbStrategy ç­‰ï¼‰
   - `pkg/indicator/`: æŠ€æœ¯æŒ‡æ ‡åº“
   - `pkg/config/`: é…ç½®åŠ è½½

3. **é€šä¿¡æœºåˆ¶**
   - SysV MWMR å…±äº«å†…å­˜: æ‰€æœ‰è¿›ç¨‹é—´é€šä¿¡ï¼ˆè¡Œæƒ…ã€è®¢å•ã€å›æŠ¥ï¼‰
   - SHM Key åˆ†é…: `0x1001`ï¼ˆè¡Œæƒ…ï¼‰ã€`0x2001`ï¼ˆè®¢å•è¯·æ±‚ï¼‰ã€`0x3001`ï¼ˆè®¢å•å›æŠ¥ï¼‰ã€`0x4001`ï¼ˆClientStoreï¼‰

### æ•°æ®æµå‘

```
md_shm_feeder â†’ [SysV MWMR SHM 0x1001] â†’ Go trader â†’ [SysV MWMR SHM 0x2001] â†’ counter_bridge â†’ CTP/Simulator
                                                    â† [SysV MWMR SHM 0x3001] â† (å›æŠ¥)
```

---

## ä»£ç é£æ ¼è§„èŒƒ

### C++ ä»£ç  (`gateway/`)

- **é£æ ¼æŒ‡å—**: éµå¾ª Google C++ Style Guide
- **å‘½åè§„èŒƒ**:
  - ç±»å: PascalCase (ä¾‹å¦‚: `MarketDataGateway`)
  - å‡½æ•°å: camelCase (ä¾‹å¦‚: `processMarketData()`)
  - æˆå‘˜å˜é‡: `m_` å‰ç¼€ (ä¾‹å¦‚: `m_isRunning`)
  - å¸¸é‡: UPPER_SNAKE_CASE (ä¾‹å¦‚: `MAX_QUEUE_SIZE`)
- **å¤´æ–‡ä»¶**:
  - ä½¿ç”¨ `#pragma once` è€Œä¸æ˜¯ include guards
  - å¤´æ–‡ä»¶åŒ…å«é¡ºåº: æ ‡å‡†åº“ â†’ ç¬¬ä¸‰æ–¹åº“ â†’ é¡¹ç›®å¤´æ–‡ä»¶
- **å…±äº«å†…å­˜**:
  - ä½¿ç”¨ SysV `shmget` / `shmat`ï¼ˆæ•´æ•° keyï¼‰
  - MWMR é˜Ÿåˆ—æ ¼å¼: ä¸ hftbase äºŒè¿›åˆ¶å…¼å®¹

### Golang ä»£ç  (`tbsrc-golang/`)

- **é£æ ¼æŒ‡å—**: ä½¿ç”¨ `gofmt` è‡ªåŠ¨æ ¼å¼åŒ–
- **åŒ…å‘½å**: å…¨å°å†™ï¼Œå•æ•°å½¢å¼ (ä¾‹å¦‚: `trader`, `strategy`, `risk`)
- **æ¥å£å‘½å**:
  - å•æ–¹æ³•æ¥å£ä»¥ `-er` ç»“å°¾ (ä¾‹å¦‚: `Reader`, `Writer`)
  - å¤šæ–¹æ³•æ¥å£ä½¿ç”¨æè¿°æ€§åç§° (ä¾‹å¦‚: `StrategyEngine`)
- **é”™è¯¯å¤„ç†**:
  - æ€»æ˜¯æ£€æŸ¥ error è¿”å›å€¼
  - ä½¿ç”¨ `log.Printf` è®°å½•é”™è¯¯ï¼Œä¸è¦ panicï¼ˆé™¤éåˆå§‹åŒ–å¤±è´¥ï¼‰
- **æ—¥å¿—æ ¼å¼**: `log.Printf("[æ¨¡å—å] æ¶ˆæ¯å†…å®¹")`

### é…ç½®æ–‡ä»¶ (`config/`)

- **æ ¼å¼**: YAML
- **å‘½å**:
  - æ¯ç­–ç•¥é…ç½®: `trader.{strategy_id}.yaml`ï¼ˆå¦‚ `trader.92201.yaml`ï¼‰
  - æ¨¡æ‹Ÿå™¨é…ç½®: `simulator.yaml`
  - CTP é…ç½®: `ctp/ctp_md.secret.yaml`, `ctp/ctp_td.secret.yaml`
- **å¿…å¡«å­—æ®µ**:
  - `system.strategy_id`: ç­–ç•¥å”¯ä¸€æ ‡è¯†
  - `strategy.symbols`: äº¤æ˜“å“ç§åˆ—è¡¨
  - `shm.request_key`: è®¢å•è¯·æ±‚ SHM key
  - `shm.response_key`: è®¢å•å›æŠ¥ SHM key
  - `shm.md_key`: è¡Œæƒ… SHM key

---

## C++ ä»£ç è¿ç§»è§„åˆ™

æœ¬é¡¹ç›®ä» C++ æ—§ç³»ç»Ÿ (tbsrc) è¿ç§»åˆ° Golang æ–°ç³»ç»Ÿã€‚è¿ç§»ä»£ç æ—¶å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„åˆ™ã€‚

### âš ï¸ åŸä»£ç ä½ç½®ï¼ˆé‡è¦ï¼‰

**C++ åŸä»£ç è·¯å¾„ï¼ˆä¸‰ä¸ªç‹¬ç«‹ç›®å½•ï¼‰**:
- `/Users/user/PWorks/RD/tbsrc/` - ç­–ç•¥å’Œäº¤æ˜“é€»è¾‘
- `/Users/user/PWorks/RD/hftbase/` - HFT åŸºç¡€è®¾æ–½åº“
- `/Users/user/PWorks/RD/ors/` - è®¢å•è·¯ç”±æœåŠ¡

```
/Users/user/PWorks/RD/
â”œâ”€â”€ tbsrc/                         # ç­–ç•¥å±‚åŸä»£ç 
â”‚   â”œâ”€â”€ Strategies/                # ç­–ç•¥å®ç°
â”‚   â”‚   â”œâ”€â”€ PairwiseArbStrategy.cpp
â”‚   â”‚   â”œâ”€â”€ ExecutionStrategy.cpp
â”‚   â”‚   â”œâ”€â”€ PairwiseArbETFStrategy.cpp
â”‚   â”‚   â”œâ”€â”€ PairwiseArbOptStrategy.cpp
â”‚   â”‚   â””â”€â”€ include/
â”‚   â”‚       â””â”€â”€ ExecutionStrategy.h
â”‚   â”œâ”€â”€ common/                    # å…¬å…±ç»„ä»¶
â”‚   â””â”€â”€ main/                      # ä¸»ç¨‹åº
â”‚
â”œâ”€â”€ hftbase/                       # HFT åŸºç¡€è®¾æ–½åŸä»£ç 
â”‚   â””â”€â”€ (è¡Œæƒ…å¤„ç†ã€è®¢å•ç®¡ç†ç­‰)
â”‚
â””â”€â”€ ors/                           # è®¢å•è·¯ç”±æœåŠ¡åŸä»£ç 
    â””â”€â”€ (è®¢å•è·¯ç”±ç›¸å…³)
```

**æ³¨æ„**: `/Users/user/PWorks/RD/quantlink-trade-system/gateway/` æ˜¯**æ–°å†™çš„ C++ ç½‘å…³ä»£ç **ï¼Œä¸æ˜¯åŸä»£ç ï¼

### å¼ºåˆ¶è¦æ±‚

**è§„åˆ™ 1: ç¦æ­¢è‡ªè®¾é»˜è®¤å€¼**
- è¿ç§» C++ ä»£ç æ—¶ï¼Œæ‰€æœ‰å‚æ•°å¿…é¡»ä»é…ç½®æ–‡ä»¶è¯»å–
- ä¸å¾—è‡ªè¡Œè®¾å®šé»˜è®¤å€¼ï¼ˆå¦‚ `+ 1.5`ã€`* 0.3` ç­‰ï¼‰
- å¦‚æœ C++ ä¸­å‚æ•°æ¥è‡ªé…ç½®ï¼ŒGo ä¸­ä¹Ÿå¿…é¡»æ¥è‡ªé…ç½®

**è§„åˆ™ 2: å¿…é¡»å…ˆå±•ç¤º C++ åŸä»£ç **
- å®ç°ä»»ä½• C++ åŠŸèƒ½è¿ç§»å‰ï¼Œå¿…é¡»å…ˆæ‰¾åˆ°å¹¶å±•ç¤º C++ åŸä»£ç 
- **åŸä»£ç è·¯å¾„**: `/Users/user/PWorks/RD/tbsrc/`
- åœ¨ `docs/cpp_reference/` ç›®å½•ä¸­ä¿å­˜å…³é”® C++ ä»£ç ç‰‡æ®µ
- å¦‚æœæ‰¾ä¸åˆ° C++ åŸä»£ç ï¼Œå¿…é¡»å‘ç”¨æˆ·ç¡®è®¤åå†å®ç°

**è§„åˆ™ 3: é€è¡Œå¯¹ç…§æ³¨é‡Š**
- Go ä»£ç ä¸­çš„å…³é”®é€»è¾‘å¿…é¡»åœ¨æ³¨é‡Šä¸­å†™æ˜å¯¹åº”çš„ C++ ä»£ç 
- ä½¿ç”¨ `// C++:` å‰ç¼€æ ‡æ³¨åŸå§‹ C++ ä»£ç 
- æ³¨é‡Šä¸­å¼•ç”¨åŸä»£ç æ—¶ä½¿ç”¨æ ¼å¼: `// å‚è€ƒ: tbsrc/Strategies/xxx.cpp:è¡Œå·`

**è§„åˆ™ 4: æ¶æ„å·®å¼‚å¿…é¡»æé†’ç”¨æˆ·**
- å½“ C++ å’Œ Go çš„æ¶æ„å­˜åœ¨å·®å¼‚æ—¶ï¼ˆå¦‚ç»§æ‰¿ vs ç»„åˆã€ç±»ç»“æ„ä¸åŒç­‰ï¼‰ï¼Œ**å¿…é¡»å…ˆæé†’ç”¨æˆ·**
- ä¸å¾—è‡ªè¡Œå†³å®šæ¶æ„æ–¹æ¡ˆï¼Œå¿…é¡»å‘ç”¨æˆ·è¯´æ˜ï¼š
  - C++ åŸä»£ç çš„æ¶æ„æ˜¯ä»€ä¹ˆ
  - Go ä»£ç å½“å‰çš„æ¶æ„æ˜¯ä»€ä¹ˆ
  - ä¸¤è€…çš„å·®å¼‚åœ¨å“ªé‡Œ
  - å¯é€‰çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›
- ç­‰å¾…ç”¨æˆ·ç¡®è®¤åå†å®æ–½
- **ç¤ºä¾‹**ï¼šC++ ä¸­ `PairwiseArbStrategy` ç»§æ‰¿è‡ª `ExecutionStrategy`ï¼Œä½† Go ä½¿ç”¨ç»„åˆï¼Œè¿™ç§å·®å¼‚éœ€è¦æé†’ç”¨æˆ·

### ä»£ç æ³¨é‡Šæ ¼å¼

```go
// setDynamicThresholds æ ¹æ®æŒä»“åŠ¨æ€è°ƒæ•´å…¥åœºé˜ˆå€¼
// ä¸ C++ SetThresholds() å®Œå…¨ä¸€è‡´ï¼š
//
//   C++: auto long_place_diff_thold = m_thold_first->LONG_PLACE - m_thold_first->BEGIN_PLACE;
//   C++: auto short_place_diff_thold = m_thold_first->BEGIN_PLACE - m_thold_first->SHORT_PLACE;
//
func (pas *PairwiseArbStrategy) setDynamicThresholds() {
    // C++: auto long_place_diff_thold = LONG_PLACE - BEGIN_PLACE
    longPlaceDiff := pas.longZScore - pas.beginZScore
    // C++: auto short_place_diff_thold = BEGIN_PLACE - SHORT_PLACE
    shortPlaceDiff := pas.beginZScore - pas.shortZScore
    ...
}
```

### å‚æ•°æ˜ å°„è¡¨

è¿ç§»æ—¶å¿…é¡»ç»´æŠ¤ C++ ä¸ Go çš„å‚æ•°æ˜ å°„å…³ç³»ï¼š

| C++ å‚æ•° | Go å‚æ•° | é…ç½®æ–‡ä»¶å­—æ®µ | åŸä»£ç ä½ç½® |
|---------|--------|-------------|-----------|
| `BEGIN_PLACE` | `beginZScore` | `begin_zscore` | ExecutionStrategy.h |
| `LONG_PLACE` | `longZScore` | `long_zscore` | ExecutionStrategy.h |
| `SHORT_PLACE` | `shortZScore` | `short_zscore` | ExecutionStrategy.h |
| `BEGIN_REMOVE` | `exitZScore` | `exit_zscore` | ExecutionStrategy.h |
| `m_netpos_pass` | `leg1Position` | - | ExecutionStrategy.h:112 |
| `m_netpos_pass_ytd` | `leg1YtdPosition` | - | ExecutionStrategy.h:113 |
| `avgSpreadRatio_ori` | `spreadAnalyzer.Mean` | - | PairwiseArbStrategy.cpp:31 |
| `tValue` | `tValue` | `t_value` | PairwiseArbStrategy.cpp |

### C++ å‚è€ƒä»£ç ç›®å½•

å…³é”® C++ ä»£ç ä¿å­˜åœ¨ `docs/cpp_reference/` ç›®å½•ï¼š
- `SetThresholds.cpp` - åŠ¨æ€é˜ˆå€¼è°ƒæ•´é€»è¾‘
- `SendAggressiveOrder.cpp` - ä¸»åŠ¨è¿½å•é€»è¾‘
- `ExecutionStrategy.cpp` - æ‰§è¡Œç­–ç•¥åŸºç±»
- `README.md` - ç´¢å¼•å’Œè¯´æ˜

### C++ åŸä»£ç å…³é”®æ–‡ä»¶é€ŸæŸ¥

| åŠŸèƒ½ | åŸä»£ç æ–‡ä»¶ | è¡Œå· |
|------|-----------|------|
| ç­–ç•¥åˆå§‹åŒ– | `tbsrc/Strategies/PairwiseArbStrategy.cpp` | 7-84 |
| æ˜¨ä»“åˆå§‹åŒ– | `tbsrc/Strategies/PairwiseArbStrategy.cpp` | 33-38 |
| åŠ¨æ€é˜ˆå€¼ | `tbsrc/Strategies/ExecutionStrategy.cpp` | SetThresholds() |
| ä¸»åŠ¨è¿½å• | `tbsrc/Strategies/PairwiseArbStrategy.cpp` | SendAggressiveOrder() |
| æˆäº¤å›è°ƒ | `tbsrc/Strategies/PairwiseArbStrategy.cpp` | ORSCallBack() |
| æŒä»“å­—æ®µå®šä¹‰ | `tbsrc/Strategies/include/ExecutionStrategy.h` | 111-114 |

### ä»£ç å®¡æŸ¥æ¸…å•

è¿ç§» C++ ä»£ç çš„ PR å¿…é¡»åŒ…å«ä»¥ä¸‹æ£€æŸ¥é¡¹ï¼š
- [ ] å·²æ‰¾åˆ°å¹¶å¼•ç”¨ C++ åŸä»£ç 
- [ ] æ— è‡ªå®šä¹‰é»˜è®¤å€¼ï¼ˆæ‰€æœ‰å‚æ•°æ¥è‡ªé…ç½®ï¼‰
- [ ] æ³¨é‡Šä¸­åŒ…å« C++ å¯¹ç…§ï¼ˆä½¿ç”¨ `// C++:` å‰ç¼€ï¼‰
- [ ] æµ‹è¯•ç”¨ä¾‹æ•°æ®æ¥è‡ª C++ è¿è¡Œç»“æœ
- [ ] å·²æ›´æ–°å‚æ•°æ˜ å°„è¡¨ï¼ˆå¦‚æœ‰æ–°å‚æ•°ï¼‰
- [ ] å·²åœ¨ `docs/cpp_reference/` ä¿å­˜ C++ ä»£ç ç‰‡æ®µ

---

## æ–‡æ¡£è§„èŒƒ

### æ–‡æ¡£å­˜æ”¾ä½ç½®

**è§„åˆ™ 1: æ–‡æ¡£ç›®å½•ç»“æ„ï¼ˆ2026-02-24 æ›´æ–°ï¼‰**

æ–‡æ¡£å·²æŒ‰ä¸»é¢˜åˆ†ç±»ï¼Œæ ¹ç›®å½•ä»…ä¿ç•™ `README.md` ç´¢å¼•æ–‡ä»¶ã€‚

**æ´»è·ƒç›®å½•**:
- `docs/æ ¸å¿ƒæ–‡æ¡£/`: éƒ¨ç½²æŒ‡å—ç­‰æ ¸å¿ƒæ–‡æ¡£
- `docs/å®ç›˜/`: å®ç›˜éƒ¨ç½²ã€CTP ç›¸å…³
- `docs/å›æµ‹/`: å›æµ‹ç³»ç»Ÿä½¿ç”¨ã€å‚æ•°ä¼˜åŒ–
- `docs/åŠŸèƒ½å®ç°/`: Phase2-9 å®æ–½è®¡åˆ’ã€C++ å¯¹ç…§ç­‰
- `docs/ç³»ç»Ÿåˆ†æ/`: æ¶æ„åˆ†æã€MWMR æŠ€æœ¯è§„æ ¼ã€ä»£ç å¯¹æ¯”
- `docs/gateway/`: Gateway æ¨¡å—æ–‡æ¡£

**å·²æ¸…ç©º/å½’æ¡£ç›®å½•**:
- `docs/golang/`: å·²å…¨éƒ¨å½’æ¡£ï¼ˆæ—§ `golang/` ä»£ç åº“æ–‡æ¡£ï¼‰
- `docs/æµ‹è¯•æŠ¥å‘Š/`: å·²å…¨éƒ¨å½’æ¡£ï¼ˆæ—§æ¶æ„æµ‹è¯•æŠ¥å‘Šï¼‰
- `docs/archive/`: å·²å½’æ¡£æ—§æ–‡æ¡£ï¼ˆ131 ä¸ªï¼‰

**IMPORTANT: åˆ›å»ºæ–°æ–‡æ¡£æ—¶çš„æ”¾ç½®è§„åˆ™**:
1. **å®ç›˜éƒ¨ç½²ã€é—®é¢˜ä¿®å¤** â†’ `docs/å®ç›˜/`
2. **å›æµ‹ç³»ç»Ÿã€å‚æ•°ä¼˜åŒ–** â†’ `docs/å›æµ‹/`
3. **æ–°åŠŸèƒ½å®æ–½** â†’ `docs/åŠŸèƒ½å®ç°/`
4. **ç³»ç»Ÿåˆ†æã€æ¶æ„è®¾è®¡** â†’ `docs/ç³»ç»Ÿåˆ†æ/`
5. **Gatewayå®ç°** â†’ `docs/gateway/`
6. **è¿‡æ—¶æ–‡æ¡£** â†’ `docs/archive/`
7. **æ ¸å¿ƒæ–‡æ¡£æ›´æ–°** â†’ è°¨æ…æ“ä½œï¼Œè¿™äº›æ˜¯é•¿æœŸç»´æŠ¤çš„åŸºç¡€æ–‡æ¡£

**ç›®å½•ç»“æ„**:
```
quantlink-trade-system/
â”œâ”€â”€ docs/                                    # æ–‡æ¡£æ ¹ç›®å½•
â”‚   â”œâ”€â”€ README.md                            # æ–‡æ¡£ç´¢å¼•ä¸­å¿ƒï¼ˆå¿…çœ‹ï¼‰
â”‚   â”œâ”€â”€ æ ¸å¿ƒæ–‡æ¡£/                            # ç³»ç»Ÿæ ¸å¿ƒæ–‡æ¡£
â”‚   â”‚   â””â”€â”€ DEPLOY_GUIDE_2026-02-24.md       # éƒ¨ç½²æŒ‡å—ï¼ˆSysV MWMR SHM æ¶æ„ï¼‰
â”‚   â”œâ”€â”€ å®ç›˜/                                # å®ç›˜äº¤æ˜“ç›¸å…³
â”‚   â”œâ”€â”€ å›æµ‹/                                # å›æµ‹ç³»ç»Ÿæ–‡æ¡£
â”‚   â”œâ”€â”€ åŠŸèƒ½å®ç°/                            # Phase2-9 å®æ–½è®¡åˆ’ç­‰
â”‚   â”œâ”€â”€ ç³»ç»Ÿåˆ†æ/                            # æ¶æ„åˆ†æã€MWMR è§„æ ¼ã€ä»£ç å¯¹æ¯”
â”‚   â”œâ”€â”€ gateway/                             # Gatewayæ¨¡å—æ–‡æ¡£
â”‚   â””â”€â”€ archive/                             # å·²å½’æ¡£æ–‡æ¡£ï¼ˆ131ä¸ªï¼‰
â”‚
â”œâ”€â”€ gateway/                                 # C++ ç½‘å…³ä»£ç ï¼ˆmd_shm_feeder, counter_bridge ç­‰ï¼‰
â”‚   â””â”€â”€ src/
â”œâ”€â”€ tbsrc-golang/                            # Golang ç­–ç•¥ä»£ç ï¼ˆæ´»è·ƒï¼ŒSysV SHM ç›´è¿ï¼‰
â”‚   â””â”€â”€ pkg/
â””â”€â”€ deploy_new/                              # ç¼–è¯‘éƒ¨ç½²äº§ç‰©ï¼ˆç”± build_deploy_new.sh ç”Ÿæˆï¼‰
```

**æŸ¥æ‰¾æ–‡æ¡£**:
- é¦–å…ˆæŸ¥çœ‹ `docs/README.md` è·å–å®Œæ•´ç´¢å¼•å’Œå¯¼èˆª
- æŒ‰ä¸»é¢˜è¿›å…¥ç›¸åº”ç›®å½•æŸ¥æ‰¾å…·ä½“æ–‡æ¡£
- ä½¿ç”¨ `find docs -name "*å…³é”®è¯*"` æœç´¢ç‰¹å®šæ–‡æ¡£

### æ–‡æ¡£å‘½åè§„èŒƒ

**è§„åˆ™ 2: æ–‡æ¡£å‘½åæ ¼å¼**

**æ ¼å¼**: `æ¨¡å—_æ‘˜è¦_YYYY-MM-DD-HH_mm.md`

**ç»„æˆéƒ¨åˆ†**:
- **æ¨¡å—**: æ–‡æ¡£æ‰€å±æ¨¡å—æˆ–ä¸»é¢˜ï¼ˆå°å†™æˆ–é©¼å³°ï¼‰
  - å•æ¨¡å—: `gateway`, `golang`, `config`, `strategy`, `risk` ç­‰
  - å¤šæ¨¡å—/ç³»ç»Ÿçº§: `QuantlinkTrader`, `ç³»ç»Ÿ`, `é¡¹ç›®`, `éƒ¨ç½²` ç­‰
- **æ‘˜è¦**: ç®€çŸ­æè¿°æ–‡æ¡£å†…å®¹ï¼ˆ2-5 ä¸ªå­—ï¼Œä¸­æ–‡ï¼‰
- **æ—¶é—´æˆ³**: `YYYY-MM-DD-HH_mm` æ ¼å¼ï¼ˆ24 å°æ—¶åˆ¶ï¼‰

**å‘½åç¤ºä¾‹**:

```bash
# âœ… æ­£ç¡®ç¤ºä¾‹
docs/QuantlinkTrader_ç«¯åˆ°ç«¯æµ‹è¯•æŠ¥å‘Š_2026-01-24-15_32.md    # é€šç”¨æ–‡æ¡£
docs/ç³»ç»Ÿ_æ¶æ„è®¾è®¡_2026-01-20-10_00.md                       # é€šç”¨æ–‡æ¡£
docs/éƒ¨ç½²_ç”Ÿäº§ç¯å¢ƒæŒ‡å—_2026-01-21-14_30.md                   # é€šç”¨æ–‡æ¡£

docs/gateway/gateway_å…±äº«å†…å­˜ä¼˜åŒ–_2026-01-15-09_20.md       # Gateway æ¨¡å—æ–‡æ¡£
docs/gateway/gateway_æ€§èƒ½æµ‹è¯•æŠ¥å‘Š_2026-01-16-11_45.md       # Gateway æ¨¡å—æ–‡æ¡£

docs/golang/golang_ç­–ç•¥å¼•æ“è®¾è®¡_2026-01-18-13_15.md         # Golang æ¨¡å—æ–‡æ¡£
docs/golang/golang_é£æ§æ¨¡å—å®ç°_2026-01-19-16_00.md         # Golang æ¨¡å—æ–‡æ¡£
docs/golang/strategy_é…å¯¹å¥—åˆ©ç­–ç•¥_2026-01-22-10_30.md       # Golang æ¨¡å—æ–‡æ¡£

# âŒ é”™è¯¯ç¤ºä¾‹
docs/test_report.md                                         # ç¼ºå°‘æ—¶é—´æˆ³
docs/EndToEndTest_2026-01-24.md                            # ä½¿ç”¨è‹±æ–‡ï¼Œç¼ºå°‘æ—¶åˆ†
gateway/docs/gateway_å…±äº«å†…å­˜ä¼˜åŒ–.md                         # é”™è¯¯ä½ç½®
docs/ç³»ç»Ÿæ¶æ„_20260120.md                                    # æ—¶é—´æ ¼å¼ä¸æ­£ç¡®
```

### æ–‡æ¡£å†…å®¹è§„èŒƒ

**è§„åˆ™ 3: ä½¿ç”¨ä¸­æ–‡ç¼–å†™**

- **æ–‡æ¡£æ­£æ–‡**: å¿…é¡»ä½¿ç”¨ä¸­æ–‡
- **æ ‡é¢˜**: ä½¿ç”¨ä¸­æ–‡
- **æ³¨é‡Š**: ä½¿ç”¨ä¸­æ–‡
- **ä¾‹å¤–æƒ…å†µ**:
  - ä»£ç ç‰‡æ®µ: ä¿æŒåŸå§‹è¯­è¨€ï¼ˆC++/Golang/Shell ç­‰ï¼‰
  - å‘½ä»¤ç¤ºä¾‹: ä¿æŒåŸå§‹å‘½ä»¤
  - æŠ€æœ¯æœ¯è¯­: å¯ä¿ç•™è‹±æ–‡ï¼Œä½†é¦–æ¬¡å‡ºç°æ—¶æä¾›ä¸­æ–‡è¯´æ˜
  - æ–‡ä»¶è·¯å¾„: ä¿æŒåŸå§‹è·¯å¾„
  - URL é“¾æ¥: ä¿æŒåŸå§‹é“¾æ¥

**ç¤ºä¾‹**:

```markdown
# âœ… æ­£ç¡®ç¤ºä¾‹

## ç­–ç•¥å¼•æ“è®¾è®¡

ç­–ç•¥å¼•æ“ï¼ˆStrategy Engineï¼‰è´Ÿè´£æ¥æ”¶å¸‚åœºæ•°æ®å¹¶ç”Ÿæˆäº¤æ˜“ä¿¡å·ã€‚

### æ ¸å¿ƒæ¥å£

\`\`\`go
type StrategyEngine interface {
    Start() error
    Stop() error
}
\`\`\`

### è¿è¡Œæ–¹å¼

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç­–ç•¥å¼•æ“ï¼š

\`\`\`bash
./bin/trader -config config/trader.yaml
\`\`\`

---

# âŒ é”™è¯¯ç¤ºä¾‹

## Strategy Engine Design

The strategy engine is responsible for receiving market data...
```

### æ–‡æ¡£æ¨¡æ¿

**æ ‡å‡†æ–‡æ¡£æ¨¡æ¿**:

```markdown
# æ¨¡å—å_æ–‡æ¡£æ ‡é¢˜

**æ–‡æ¡£æ—¥æœŸ**: YYYY-MM-DD
**ä½œè€…**: [ä½œè€…å]
**ç‰ˆæœ¬**: v1.0
**ç›¸å…³æ¨¡å—**: [æ¨¡å—åˆ—è¡¨]

---

## æ¦‚è¿°

[ç®€è¦æè¿°æ–‡æ¡£ç›®çš„å’ŒèƒŒæ™¯]

## è¯¦ç»†å†…å®¹

### ç« èŠ‚ 1

[å†…å®¹...]

### ç« èŠ‚ 2

[å†…å®¹...]

## æ€»ç»“

[æ€»ç»“è¦ç‚¹]

## å‚è€ƒèµ„æ–™

- ç›¸å…³æ–‡æ¡£1: @docs/xxx.md
- ç›¸å…³æ–‡æ¡£2: @gateway/docs/xxx.md

---

**æœ€åæ›´æ–°**: YYYY-MM-DD HH:mm
```

### æ–‡æ¡£ç»´æŠ¤

**è§„åˆ™ 4: æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸ**

- **åˆ›å»ºæ–‡æ¡£**: é‡å¤§åŠŸèƒ½ã€æ¶æ„å˜æ›´ã€æµ‹è¯•æŠ¥å‘Šæ—¶åˆ›å»º
- **æ›´æ–°æ–‡æ¡£**: ä¸ä¿®æ”¹åŸæ–‡ä»¶ï¼Œè€Œæ˜¯åˆ›å»ºæ–°ç‰ˆæœ¬ï¼ˆå¸¦æ–°æ—¶é—´æˆ³ï¼‰
- **åºŸå¼ƒæ–‡æ¡£**: ç§»åŠ¨åˆ° `docs/archive/` ç›®å½•
- **æ–‡æ¡£ç´¢å¼•**: åœ¨ `docs/README.md` ä¸­ç»´æŠ¤æ–‡æ¡£ç´¢å¼•ï¼ˆé‡è¦æ–‡æ¡£éœ€è¦æ·»åŠ ï¼‰

**IMPORTANT: æ–‡æ¡£ç´¢å¼•ç»´æŠ¤**

å½“åˆ›å»ºé‡è¦æ–‡æ¡£æ—¶ï¼Œéœ€è¦æ›´æ–° `docs/README.md` ä¸­çš„ç›¸åº”ç« èŠ‚ï¼š

1. **æ ¸å¿ƒæ–‡æ¡£** - å¾ˆå°‘æ›´æ–°ï¼Œé™¤éé‡å¤§æ¶æ„å˜æ›´
2. **å®ç›˜ç›¸å…³** - æ·»åŠ é‡å¤§é—®é¢˜ä¿®å¤ã€æ–°åŠŸèƒ½å®æ–½
3. **å›æµ‹ç›¸å…³** - æ·»åŠ æ–°çš„ä½¿ç”¨æŒ‡å—æˆ–é‡å¤§ä¼˜åŒ–
4. **æµ‹è¯•æŠ¥å‘Š** - æ·»åŠ é‡å¤§æµ‹è¯•æŠ¥å‘Šï¼ˆé‡Œç¨‹ç¢‘å¼çš„ï¼‰
5. **åŠŸèƒ½å®ç°** - æ·»åŠ æ–°åŠŸèƒ½å®æ–½æŠ¥å‘Š
6. **ç³»ç»Ÿåˆ†æ** - æ·»åŠ é‡è¦çš„æ¶æ„åˆ†ææ–‡æ¡£

**æ–‡æ¡£ç´¢å¼•ç»“æ„** (`docs/README.md`):

```markdown
# QuantLink Trade System - æ–‡æ¡£ä¸­å¿ƒ

## ğŸ“ æ–‡æ¡£ç›®å½•ç»“æ„
[æ˜¾ç¤º10ä¸ªä¸»é¢˜ç›®å½•]

## ğŸš€ å¿«é€Ÿå¼€å§‹
[æ–°ç”¨æˆ·å¿…è¯»ã€å¼€å‘è€…æŒ‡å—]

## ğŸ“š ä¸»é¢˜æ–‡æ¡£å¯¼èˆª

### ğŸ’¼ å®ç›˜äº¤æ˜“
**ç›®å½•**: `docs/å®ç›˜/`
**æœ€æ–°æ–‡æ¡£**:
- âœ… [Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š](å®ç›˜/Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š_2026-01-30-11_35.md)
- âœ… [å‚æ•°åŠ è½½ä¿®å¤æŠ¥å‘Š](å®ç›˜/å‚æ•°åŠ è½½ä¿®å¤æŠ¥å‘Š_2026-01-30-11_05.md)

### ğŸ§ª å›æµ‹ç³»ç»Ÿ
[å›æµ‹ç›¸å…³æ–‡æ¡£å¯¼èˆª]

### [å…¶ä»–ä¸»é¢˜...]

## ğŸ” å¸¸è§é—®é¢˜é€ŸæŸ¥
[é—®é¢˜ â†’ å‚è€ƒæ–‡æ¡£æ˜ å°„è¡¨]
```

---

## è„šæœ¬ç®¡ç†è§„èŒƒ

### è„šæœ¬ç›®å½•ç»“æ„

**è§„åˆ™ 5: scripts/ ç›®å½•ç»„ç»‡ï¼ˆ2026-01-30 é‡ç»„ï¼‰**

æ‰€æœ‰è„šæœ¬æŒ‰åŠŸèƒ½åˆ†ç±»å­˜æ”¾åœ¨ `scripts/` ç›®å½•ä¸‹ï¼Œæ ¹ç›®å½•ä¸åº”å­˜æ”¾ä»»ä½• .sh è„šæœ¬æ–‡ä»¶ã€‚

**ç›®å½•ç»“æ„**:
```
scripts/
â”œâ”€â”€ README.md                      # è„šæœ¬ä½¿ç”¨æŒ‡å—
â”‚
â”œâ”€â”€ æ„å»ºè„šæœ¬ (æ ¹ç›®å½•)
â”‚   â”œâ”€â”€ build_gateway.sh          # ç¼–è¯‘ C++ Gateway
â”‚   â”œâ”€â”€ build_golang.sh           # ç¼–è¯‘ Golang Trader
â”‚   â””â”€â”€ generate_proto.sh         # ç”Ÿæˆ Protobuf ä»£ç 
â”‚
â”œâ”€â”€ ä¾èµ–å®‰è£… (æ ¹ç›®å½•)
â”‚   â”œâ”€â”€ install_dependencies.sh   # å®‰è£…ç³»ç»Ÿä¾èµ–
â”‚   â””â”€â”€ install_nats_c.sh         # å®‰è£… NATS C å®¢æˆ·ç«¯
â”‚
â”œâ”€â”€ éƒ¨ç½²è„šæœ¬ (æ ¹ç›®å½•)
â”‚   â”œâ”€â”€ prepare_deploy.sh         # å‡†å¤‡éƒ¨ç½²ç¯å¢ƒ
â”‚   â””â”€â”€ quick_deploy.sh           # å¿«é€Ÿéƒ¨ç½²
â”‚
â”œâ”€â”€ test/                          # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ e2e/                      # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_full_chain.sh
â”‚   â”‚   â”œâ”€â”€ test_ctp_e2e.sh
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ integration/              # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_multi_strategy_*.sh
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ unit/                     # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_ctp_*.sh
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ feature/                  # åŠŸèƒ½æµ‹è¯•
â”‚       â”œâ”€â”€ test_position_*.sh
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ live/                         # å®ç›˜è„šæœ¬
â”‚   â”œâ”€â”€ start_live_test.sh
â”‚   â”œâ”€â”€ monitor_live.sh
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ trading/                      # äº¤æ˜“æ“ä½œ
â”‚   â”œâ”€â”€ trade_*.sh
â”‚   â”œâ”€â”€ query_position.sh
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ backtest/                     # å›æµ‹è„šæœ¬
    â””â”€â”€ run_backtest.sh
```

### è„šæœ¬åˆ†ç±»è§„åˆ™

**è§„åˆ™ 6: è„šæœ¬å­˜æ”¾ä½ç½®**

æ–°å»ºè„šæœ¬æ—¶æŒ‰ä»¥ä¸‹è§„åˆ™åˆ†ç±»ï¼š

1. **æ„å»ºå’Œå®‰è£…è„šæœ¬** â†’ `scripts/` æ ¹ç›®å½•
   - ç¼–è¯‘è„šæœ¬ï¼ˆbuild_*.shï¼‰
   - ä¾èµ–å®‰è£…ï¼ˆinstall_*.shï¼‰
   - ä»£ç ç”Ÿæˆï¼ˆgenerate_*.shï¼‰

2. **æµ‹è¯•è„šæœ¬** â†’ `scripts/test/` å­ç›®å½•
   - ç«¯åˆ°ç«¯æµ‹è¯• â†’ `test/e2e/`
   - é›†æˆæµ‹è¯• â†’ `test/integration/`
   - å•å…ƒæµ‹è¯• â†’ `test/unit/`
   - åŠŸèƒ½æµ‹è¯• â†’ `test/feature/`

3. **å®ç›˜è„šæœ¬** â†’ `scripts/live/`
   - å¯åŠ¨è„šæœ¬ï¼ˆstart_*.shï¼‰
   - ç›‘æ§è„šæœ¬ï¼ˆmonitor_*.shï¼‰
   - å®ç›˜æµ‹è¯•å’Œéƒ¨ç½²

4. **äº¤æ˜“æ“ä½œè„šæœ¬** â†’ `scripts/trading/`
   - ä¸‹å•è„šæœ¬ï¼ˆtrade_*.shï¼‰
   - å¹³ä»“è„šæœ¬ï¼ˆclose_*.shï¼‰
   - æŸ¥è¯¢è„šæœ¬ï¼ˆquery_*.shï¼‰

5. **å›æµ‹è„šæœ¬** â†’ `scripts/backtest/`
   - å›æµ‹è¿è¡Œå’Œåˆ†æè„šæœ¬

6. **éƒ¨ç½²è„šæœ¬** â†’ `scripts/` æ ¹ç›®å½•
   - éƒ¨ç½²ç›¸å…³çš„é«˜å±‚è„šæœ¬

### è„šæœ¬å‘½åè§„èŒƒ

**è§„åˆ™ 7: è„šæœ¬å‘½åæ ¼å¼**

**æ ¼å¼**: `<åŠ¨è¯>_<å¯¹è±¡>_<æè¿°>.sh`

**å‘½åæ¨¡å¼**:
- **æµ‹è¯•è„šæœ¬**: `test_<åŠŸèƒ½>_<ç±»å‹>.sh`
  - ç¤ºä¾‹: `test_ctp_e2e.sh`, `test_position_query.sh`
- **å¯åŠ¨è„šæœ¬**: `start_<æœåŠ¡>_<æ¨¡å¼>.sh`
  - ç¤ºä¾‹: `start_live_test.sh`, `start_full_test.sh`
- **åœæ­¢è„šæœ¬**: `stop_<æœåŠ¡>.sh`
  - ç¤ºä¾‹: `stop_ctp_e2e.sh`, `stop_all.sh`
- **ç›‘æ§è„šæœ¬**: `monitor_<å¯¹è±¡>.sh`
  - ç¤ºä¾‹: `monitor_live.sh`, `monitor_health.sh`
- **æ„å»ºè„šæœ¬**: `build_<æ¨¡å—>.sh`
  - ç¤ºä¾‹: `build_gateway.sh`, `build_golang.sh`
- **å®‰è£…è„šæœ¬**: `install_<ä¾èµ–>.sh`
  - ç¤ºä¾‹: `install_dependencies.sh`, `install_nats_c.sh`
- **äº¤æ˜“æ“ä½œ**: `<åŠ¨ä½œ>_<æ ‡çš„>.sh`
  - ç¤ºä¾‹: `trade_ag2603.sh`, `close_ag2603.sh`, `query_position.sh`

**ç¦æ­¢ä½¿ç”¨æ¨¡ç³Šå‘½å**:
- âŒ `test.sh`, `run.sh`, `script.sh`
- âœ… `test_full_chain.sh`, `run_backtest.sh`

### è„šæœ¬å¼€å‘è§„èŒƒ

**è§„åˆ™ 8: è„šæœ¬æ ‡å‡†æ¨¡æ¿**

```bash
#!/bin/bash
set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

# ============================================
# è„šæœ¬åç§°: <è„šæœ¬å>.sh
# ç”¨é€”: <ç®€è¦è¯´æ˜è„šæœ¬ç”¨é€”>
# ä½œè€…: <ä½œè€…å>
# æ—¥æœŸ: YYYY-MM-DD
# ============================================

# è·å–é¡¹ç›®æ ¹ç›®å½•
PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." && pwd)"
cd "$PROJECT_ROOT"

# é¢œè‰²å®šä¹‰ï¼ˆå¯é€‰ï¼‰
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# æ—¥å¿—å‡½æ•°
log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1" >&2
}

# æ¸…ç†å‡½æ•°ï¼ˆæ•è·é€€å‡ºä¿¡å·ï¼‰
cleanup() {
    log_info "Cleaning up..."
    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶ã€è¿›ç¨‹ç­‰
}

trap cleanup EXIT

# ä¸»é€»è¾‘
main() {
    log_info "Starting <è„šæœ¬åŠŸèƒ½>..."

    # è„šæœ¬ä¸»è¦é€»è¾‘

    log_info "Completed successfully"
}

main "$@"
```

**å…³é”®è¦æ±‚**:
1. å¿…é¡»ä½¿ç”¨ `set -e` ç¡®ä¿é”™è¯¯æ—¶é€€å‡º
2. å¿…é¡»ä½¿ç”¨ `PROJECT_ROOT` å®šä½é¡¹ç›®æ ¹ç›®å½•
3. ä½¿ç”¨æ—¥å¿—å‡½æ•°ï¼ˆlog_info/log_warn/log_errorï¼‰è€Œéç›´æ¥ echo
4. ä½¿ç”¨ `trap cleanup EXIT` ç¡®ä¿èµ„æºæ¸…ç†
5. å°†ä¸»é€»è¾‘æ”¾åœ¨ `main()` å‡½æ•°ä¸­

### è„šæœ¬æ–‡æ¡£è¦æ±‚

**è§„åˆ™ 9: scripts/README.md ç»´æŠ¤**

å½“æ·»åŠ é‡è¦è„šæœ¬æ—¶ï¼Œæ›´æ–° `scripts/README.md` ä¸­çš„ç›¸åº”ç« èŠ‚ï¼š

```markdown
## ğŸ“‚ ç›®å½•ç»“æ„
[æ›´æ–°ç›®å½•æ ‘]

## ğŸš€ å¸¸ç”¨è„šæœ¬
[æ·»åŠ æ–°è„šæœ¬çš„ä½¿ç”¨è¯´æ˜]
```

**é‡è¦è„šæœ¬å®šä¹‰**:
- æ–°åŠŸèƒ½çš„æµ‹è¯•è„šæœ¬
- å®ç›˜éƒ¨ç½²ç›¸å…³è„šæœ¬
- è¿ç»´ç›‘æ§è„šæœ¬
- å¼€å‘è€…å¸¸ç”¨è„šæœ¬

**ä¸´æ—¶è„šæœ¬**:
- ä¸€æ¬¡æ€§ä½¿ç”¨çš„ä¸´æ—¶è„šæœ¬å¯ä»¥ä¸åŠ å…¥ README.md
- ä½†ä»éœ€éµå¾ªå‘½åè§„èŒƒå’Œæ”¾ç½®è§„åˆ™

### è„šæœ¬ä½¿ç”¨æƒé™

**è§„åˆ™ 10: è„šæœ¬æ‰§è¡Œæƒé™**

```bash
# æ–°å»ºè„šæœ¬åè®¾ç½®æ‰§è¡Œæƒé™
chmod +x scripts/<category>/<script_name>.sh

# æ‰¹é‡è®¾ç½®è„šæœ¬æƒé™
find scripts/ -name "*.sh" -exec chmod +x {} \;
```

### å¸¸è§é—®é¢˜

**é—®é¢˜ 1: è„šæœ¬æ”¾åœ¨å“ªé‡Œï¼Ÿ**

| è„šæœ¬ç”¨é€” | å­˜æ”¾ä½ç½® |
|---------|---------|
| ç¼–è¯‘æ„å»º | `scripts/` (æ ¹ç›®å½•) |
| ç«¯åˆ°ç«¯æµ‹è¯• | `scripts/test/e2e/` |
| é›†æˆæµ‹è¯• | `scripts/test/integration/` |
| å•å…ƒæµ‹è¯• | `scripts/test/unit/` |
| åŠŸèƒ½æµ‹è¯• | `scripts/test/feature/` |
| å®ç›˜æµ‹è¯• | `scripts/live/` |
| äº¤æ˜“æ“ä½œ | `scripts/trading/` |
| å›æµ‹ | `scripts/backtest/` |

**é—®é¢˜ 2: å¦‚ä½•ä»è„šæœ¬ä¸­è®¿é—®é¡¹ç›®æ–‡ä»¶ï¼Ÿ**

```bash
# æ–¹æ³•1: ä½¿ç”¨ PROJECT_ROOTï¼ˆæ¨èï¼‰
PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." && pwd)"
cd "$PROJECT_ROOT"
./bin/trader -config config/trader.yaml

# æ–¹æ³•2: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆä¸æ¨èï¼Œå®¹æ˜“å‡ºé”™ï¼‰
../../bin/trader -config ../../config/trader.yaml
```

**é—®é¢˜ 3: è„šæœ¬ä¹‹é—´å¦‚ä½•ç›¸äº’è°ƒç”¨ï¼Ÿ**

```bash
# ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆæ¨èï¼‰
PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." && pwd)"
"${PROJECT_ROOT}/scripts/build_gateway.sh"
"${PROJECT_ROOT}/scripts/build_golang.sh"

# æˆ–ä½¿ç”¨ sourceï¼ˆå…±äº«å˜é‡å’Œå‡½æ•°ï¼‰
source "${PROJECT_ROOT}/scripts/common_functions.sh"
```

---

## æ–‡æ¡£ä¸è„šæœ¬å…³è”è§„èŒƒ

### å…³è”ç›®æ ‡

**è§„åˆ™ 11: å»ºç«‹æ–‡æ¡£ä¸è„šæœ¬çš„åŒå‘ç´¢å¼•**

ç¡®ä¿å¼€å‘è€…èƒ½å¤Ÿï¼š
- ä»æ–‡æ¡£å¿«é€Ÿæ‰¾åˆ°ç›¸å…³æµ‹è¯•è„šæœ¬
- ä»è„šæœ¬å¿«é€Ÿæ‰¾åˆ°ç›¸å…³è¯´æ˜æ–‡æ¡£
- ç†è§£åŠŸèƒ½çš„å®Œæ•´ä¸Šä¸‹æ–‡ï¼ˆæ–‡æ¡£ + å®ç° + æµ‹è¯•ï¼‰

### å…³è”æ–¹å¼

#### æ–¹å¼ 1: è„šæœ¬å¤´éƒ¨å¼•ç”¨æ–‡æ¡£ï¼ˆæ¨èï¼‰

**è§„åˆ™ 12: è„šæœ¬å¿…é¡»åœ¨å¤´éƒ¨æ³¨é‡Šä¸­å¼•ç”¨ç›¸å…³æ–‡æ¡£**

```bash
#!/bin/bash
set -e

# ============================================
# è„šæœ¬åç§°: test_position_persistence.sh
# ç”¨é€”: æµ‹è¯•æŒä»“æŒä¹…åŒ–åŠŸèƒ½
# ä½œè€…: QuantLink Team
# æ—¥æœŸ: 2026-01-30
#
# ç›¸å…³æ–‡æ¡£:
#   - å®æ–½æŠ¥å‘Š: @docs/å®ç›˜/Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š_2026-01-30-11_35.md
#   - åŠŸèƒ½æ–‡æ¡£: @docs/åŠŸèƒ½å®ç°/æŒä»“æŸ¥è¯¢åŠŸèƒ½å®ç°_2026-01-28-11_30.md
#   - æ¶æ„è¯´æ˜: @docs/æ ¸å¿ƒæ–‡æ¡£/CURRENT_ARCHITECTURE_FLOW.md
#   - ä½¿ç”¨æŒ‡å—: @docs/æ ¸å¿ƒæ–‡æ¡£/USAGE.md
# ============================================
```

**å¼•ç”¨è§„åˆ™**:
- ä½¿ç”¨ `@docs/` å‰ç¼€è¡¨ç¤ºæ–‡æ¡£è·¯å¾„
- æŒ‰é‡è¦æ€§æ’åºï¼ˆæœ€ç›¸å…³çš„æ”¾æœ€å‰é¢ï¼‰
- è‡³å°‘å¼•ç”¨ 1 ä¸ªç›¸å…³æ–‡æ¡£
- å¤æ‚è„šæœ¬å»ºè®®å¼•ç”¨ 2-4 ä¸ªæ–‡æ¡£

#### æ–¹å¼ 2: æ–‡æ¡£ä¸­å¼•ç”¨è„šæœ¬

**è§„åˆ™ 13: æ–‡æ¡£å¿…é¡»åœ¨æ“ä½œè¯´æ˜ä¸­å¼•ç”¨ç›¸å…³è„šæœ¬**

```markdown
## æµ‹è¯•éªŒè¯

### æŒä»“æŒä¹…åŒ–æµ‹è¯•

è¿è¡Œä»¥ä¸‹è„šæœ¬éªŒè¯æŒä»“æŒä¹…åŒ–åŠŸèƒ½ï¼š

\`\`\`bash
# å®Œæ•´æµ‹è¯•
./scripts/test/feature/test_position_persistence.sh

# æŸ¥è¯¢æµ‹è¯•
./scripts/test/feature/test_position_query.sh
\`\`\`

### å®ç›˜æµ‹è¯•

\`\`\`bash
# å¯åŠ¨å®ç›˜æµ‹è¯•
./scripts/live/start_live_test.sh

# ç›‘æ§è¿è¡ŒçŠ¶æ€
./scripts/live/monitor_live.sh
\`\`\`

**ç›¸å…³è„šæœ¬**:
- æŒä»“æŒä¹…åŒ–: `scripts/test/feature/test_position_persistence.sh`
- æŒä»“æŸ¥è¯¢: `scripts/test/feature/test_position_query.sh`
- å®ç›˜å¯åŠ¨: `scripts/live/start_live_test.sh`
```

**å¼•ç”¨è§„åˆ™**:
- åœ¨"æµ‹è¯•éªŒè¯"ã€"ä½¿ç”¨ç¤ºä¾‹"ç­‰ç« èŠ‚å¼•ç”¨è„šæœ¬
- æä¾›å®Œæ•´çš„è„šæœ¬è·¯å¾„ï¼ˆä»é¡¹ç›®æ ¹ç›®å½•å¼€å§‹ï¼‰
- æ·»åŠ ç®€è¦è¯´æ˜è„šæœ¬çš„ç”¨é€”
- æŒ‰ä½¿ç”¨é¢‘ç‡æ’åºï¼ˆå¸¸ç”¨è„šæœ¬æ”¾å‰é¢ï¼‰

#### æ–¹å¼ 3: äº¤å‰ç´¢å¼•æ–‡ä»¶

**è§„åˆ™ 14: ç»´æŠ¤ä¸­å¤®äº¤å‰ç´¢å¼•æ–‡ä»¶**

**æ–‡ä»¶ä½ç½®**: `CROSS_REFERENCE.md`

**ç´¢å¼•ç»“æ„**:
```markdown
# æ–‡æ¡£ä¸è„šæœ¬äº¤å‰ç´¢å¼•

## æŒ‰åŠŸèƒ½åˆ†ç±»

| åŠŸèƒ½ | è„šæœ¬ | ç›¸å…³æ–‡æ¡£ |
|------|------|---------|
| æŒä»“ç®¡ç† | scripts/test/feature/test_position_persistence.sh | Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š.md |

## æŒ‰æ–‡æ¡£åˆ†ç±»

### Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š
**ç›¸å…³è„šæœ¬**:
- scripts/test/feature/test_position_persistence.sh
- scripts/test/feature/test_position_query.sh

## å¿«é€ŸæŸ¥æ‰¾

### æˆ‘æƒ³æµ‹è¯•æŸä¸ªåŠŸèƒ½
| éœ€æ±‚ | è„šæœ¬ |
|------|------|
| æµ‹è¯•æŒä»“ç®¡ç† | scripts/test/feature/test_position_query.sh |

### è„šæœ¬å‡ºé”™åº”è¯¥æŸ¥çœ‹å“ªä¸ªæ–‡æ¡£
| è„šæœ¬ | æ’æŸ¥æ–‡æ¡£ |
|------|---------|
| test_position_*.sh | Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š.md |
```

### å…³è”ç»´æŠ¤è§„åˆ™

**è§„åˆ™ 15: å…³è”ä¿¡æ¯çš„ç»´æŠ¤è´£ä»»**

| åœºæ™¯ | ç»´æŠ¤å†…å®¹ | è´£ä»»äºº |
|------|---------|--------|
| **æ–°å»ºè„šæœ¬** | 1. è„šæœ¬å¤´éƒ¨æ·»åŠ ç›¸å…³æ–‡æ¡£é“¾æ¥<br>2. æ›´æ–° CROSS_REFERENCE.md | è„šæœ¬ä½œè€… |
| **æ–°å»ºé‡è¦æ–‡æ¡£** | 1. æ–‡æ¡£ä¸­å¼•ç”¨ç›¸å…³è„šæœ¬<br>2. æ›´æ–° CROSS_REFERENCE.md | æ–‡æ¡£ä½œè€… |
| **è„šæœ¬é‡å‘½å/ç§»åŠ¨** | 1. æ›´æ–°æ‰€æœ‰å¼•ç”¨æ­¤è„šæœ¬çš„æ–‡æ¡£<br>2. æ›´æ–° CROSS_REFERENCE.md | é‡æ„äººå‘˜ |
| **æ–‡æ¡£é‡å‘½å/ç§»åŠ¨** | 1. æ›´æ–°æ‰€æœ‰å¼•ç”¨æ­¤æ–‡æ¡£çš„è„šæœ¬<br>2. æ›´æ–° CROSS_REFERENCE.md | é‡æ„äººå‘˜ |
| **å®šæœŸå®¡æŸ¥** | 1. æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§<br>2. æ¸…ç†è¿‡æœŸå¼•ç”¨ | é¡¹ç›®ç»´æŠ¤è€… |

**æ›´æ–°æ—¶æœº**:
- âœ… åˆ›å»ºè„šæœ¬åç«‹å³æ·»åŠ æ–‡æ¡£å¼•ç”¨
- âœ… å®Œæˆé‡è¦æ–‡æ¡£åæ·»åŠ è„šæœ¬å¼•ç”¨
- âœ… é‡æ„æ–‡ä»¶ç»“æ„åæ›´æ–°æ‰€æœ‰å¼•ç”¨
- âœ… æ¯æœˆå®¡æŸ¥ä¸€æ¬¡ CROSS_REFERENCE.md

### å…³è”å®Œæ•´æ€§æ£€æŸ¥

**è§„åˆ™ 16: å…³è”å®Œæ•´æ€§è¦æ±‚**

**é‡è¦è„šæœ¬å¿…é¡»å…³è”æ–‡æ¡£**:
```bash
# æ£€æŸ¥è„šæœ¬æ˜¯å¦ç¼ºå°‘æ–‡æ¡£å¼•ç”¨
find scripts/ -name "*.sh" -type f | while read script; do
    if ! grep -q "ç›¸å…³æ–‡æ¡£:" "$script"; then
        echo "WARNING: $script ç¼ºå°‘æ–‡æ¡£å¼•ç”¨"
    fi
done
```

**é‡è¦æ–‡æ¡£å¿…é¡»å…³è”è„šæœ¬**:
- å®æ–½æŠ¥å‘Šç±»æ–‡æ¡£ï¼šå¿…é¡»å¼•ç”¨æµ‹è¯•è„šæœ¬
- åŠŸèƒ½å®ç°æ–‡æ¡£ï¼šå¿…é¡»å¼•ç”¨æµ‹è¯•è„šæœ¬
- ä½¿ç”¨æŒ‡å—æ–‡æ¡£ï¼šå¿…é¡»å¼•ç”¨æ“ä½œè„šæœ¬

**è±å…æ¡ä»¶**:
- çº¯ç†è®ºåˆ†ææ–‡æ¡£ï¼ˆæ— å®ç°ï¼‰
- ä¸´æ—¶æµ‹è¯•è„šæœ¬ï¼ˆä¸€æ¬¡æ€§ä½¿ç”¨ï¼‰
- å·¥å…·è„šæœ¬ï¼ˆé€šç”¨å·¥å…·ï¼Œæ— ç‰¹å®šæ–‡æ¡£ï¼‰

### å…³è”ç¤ºä¾‹

#### ç¤ºä¾‹ 1: æŒä»“ç®¡ç†åŠŸèƒ½

**è„šæœ¬**: `scripts/test/feature/test_position_persistence.sh`
```bash
# ç›¸å…³æ–‡æ¡£:
#   - @docs/å®ç›˜/Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š_2026-01-30-11_35.md
#   - @docs/åŠŸèƒ½å®ç°/æŒä»“æŸ¥è¯¢åŠŸèƒ½å®ç°_2026-01-28-11_30.md
```

**æ–‡æ¡£**: `docs/å®ç›˜/Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š_2026-01-30-11_35.md`
```markdown
## æµ‹è¯•éªŒè¯

\`\`\`bash
./scripts/test/feature/test_position_persistence.sh
./scripts/test/feature/test_position_query.sh
\`\`\`
```

**ç´¢å¼•**: `CROSS_REFERENCE.md`
```markdown
| æŒä»“ç®¡ç† | scripts/test/feature/test_position_persistence.sh | Phase2-5æŠ¥å‘Š |
```

#### ç¤ºä¾‹ 2: CTP å¯¹æ¥åŠŸèƒ½

**è„šæœ¬**: `scripts/test/e2e/test_ctp_e2e.sh`
```bash
# ç›¸å…³æ–‡æ¡£:
#   - @docs/åŠŸèƒ½å®ç°/ä»»åŠ¡1_CTPè¡Œæƒ…æ¥å…¥å®æ–½æŒ‡å—_2026-01-26-15_40.md
#   - @docs/å®ç›˜/CTP_POSITION_GUIDE.md
#   - @docs/æµ‹è¯•æŠ¥å‘Š/ç«¯åˆ°ç«¯æµ‹è¯•æŠ¥å‘Š_20260130_002214.md
```

**æ–‡æ¡£**: `docs/åŠŸèƒ½å®ç°/ä»»åŠ¡1_CTPè¡Œæƒ…æ¥å…¥å®æ–½æŒ‡å—_2026-01-26-15_40.md`
```markdown
## æµ‹è¯•æ–¹æ³•

\`\`\`bash
# ç«¯åˆ°ç«¯æµ‹è¯•
./scripts/test/e2e/test_ctp_e2e.sh

# å•å…ƒæµ‹è¯•
./scripts/test/unit/test_ctp_account.sh
./scripts/test/unit/test_ctp_query.sh
\`\`\`
```

### å¿«é€ŸæŸ¥æ‰¾æŒ‡å—

**ä»åŠŸèƒ½æ‰¾è„šæœ¬**:
```bash
# æŸ¥çœ‹ CROSS_REFERENCE.md çš„"æˆ‘æƒ³æµ‹è¯•æŸä¸ªåŠŸèƒ½"è¡¨æ ¼
cat CROSS_REFERENCE.md | grep -A 20 "æˆ‘æƒ³æµ‹è¯•æŸä¸ªåŠŸèƒ½"
```

**ä»æ–‡æ¡£æ‰¾è„šæœ¬**:
```bash
# æŸ¥çœ‹ CROSS_REFERENCE.md çš„"æŒ‰æ–‡æ¡£åˆ†ç±»"ç« èŠ‚
cat CROSS_REFERENCE.md | grep -A 50 "æŒ‰æ–‡æ¡£åˆ†ç±»"
```

**ä»è„šæœ¬æ‰¾æ–‡æ¡£**:
```bash
# æŸ¥çœ‹è„šæœ¬å¤´éƒ¨çš„"ç›¸å…³æ–‡æ¡£"æ³¨é‡Š
head -20 scripts/test/feature/test_position_persistence.sh | grep -A 5 "ç›¸å…³æ–‡æ¡£"
```

**è„šæœ¬å‡ºé”™æ‰¾æ’æŸ¥æ–‡æ¡£**:
```bash
# æŸ¥çœ‹ CROSS_REFERENCE.md çš„"è„šæœ¬å‡ºé”™åº”è¯¥æŸ¥çœ‹å“ªä¸ªæ–‡æ¡£"è¡¨æ ¼
cat CROSS_REFERENCE.md | grep -A 20 "è„šæœ¬å‡ºé”™"
```

### å…³è”æ•ˆç›Š

å»ºç«‹æ–‡æ¡£ä¸è„šæœ¬å…³è”åï¼š

âœ… **æé«˜å¯ç»´æŠ¤æ€§**:
- ä¿®æ”¹åŠŸèƒ½æ—¶èƒ½å¿«é€Ÿæ‰¾åˆ°æ‰€æœ‰ç›¸å…³æ–‡ä»¶
- é¿å…é—æ¼æµ‹è¯•è„šæœ¬æˆ–æ–‡æ¡£æ›´æ–°

âœ… **åŠ é€Ÿé—®é¢˜æ’æŸ¥**:
- è„šæœ¬å‡ºé”™æ—¶å¿«é€Ÿå®šä½æ’æŸ¥æ–‡æ¡£
- æ–‡æ¡£æè¿°ä¸æ¸…æ—¶å¿«é€Ÿæ‰¾åˆ°æµ‹è¯•ç”¨ä¾‹

âœ… **æ”¹å–„åä½œæ•ˆç‡**:
- æ–°æˆå‘˜èƒ½å¿«é€Ÿç†è§£åŠŸèƒ½å…¨è²Œ
- äº¤æ¥å·¥ä½œæ—¶ä¿¡æ¯å®Œæ•´ä¸é—æ¼

âœ… **ä¿è¯æ–‡æ¡£è´¨é‡**:
- å¼ºåˆ¶æ–‡æ¡£ä¸å®ç°ä¿æŒåŒæ­¥
- æ–‡æ¡£å¿…é¡»åŒ…å«å¯æ‰§è¡Œçš„æµ‹è¯•æ–¹æ³•

---

## å¼€å‘å·¥ä½œæµ

### æ„å»ºç³»ç»Ÿ

```bash
# ä¸€é”®ç¼–è¯‘éƒ¨ç½²ï¼ˆæ¨èï¼‰
./scripts/build_deploy_new.sh           # å®Œæ•´ç¼–è¯‘ â†’ deploy_new/
./scripts/build_deploy_new.sh --go      # ä»… Go
./scripts/build_deploy_new.sh --cpp     # ä»… C++
./scripts/build_deploy_new.sh --clean   # æ¸…ç†åé‡ç¼–è¯‘

# æ‰‹åŠ¨ç¼–è¯‘ C++ ç½‘å…³
cd gateway && mkdir -p build && cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
make -j4 md_shm_feeder counter_bridge

# æ‰‹åŠ¨ç¼–è¯‘ Go ç­–ç•¥
cd tbsrc-golang
go build -o ../bin/trader ./cmd/trader/main.go
go build -o ../bin/webserver ./cmd/webserver/main.go
```

### è¿è¡Œæµ‹è¯•

**ç«¯åˆ°ç«¯æµ‹è¯•** (æ¨è):
```bash
# 1. ç¼–è¯‘éƒ¨ç½²
./scripts/build_deploy_new.sh

# 2. å¯åŠ¨ç½‘å…³ï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰
cd deploy_new
./scripts/start_gateway.sh sim

# 3. å¯åŠ¨ç­–ç•¥
./scripts/start_strategy.sh 92201

# 4. æŸ¥çœ‹æ—¥å¿—
tail -f nohup.out.92201

# 5. åœæ­¢æ‰€æœ‰
./scripts/stop_all.sh
```

**å•å…ƒæµ‹è¯•**:
```bash
cd tbsrc-golang
go test ./pkg/...
```

### è°ƒè¯•æ–¹æ³•

**æŸ¥çœ‹æ—¥å¿—**:
```bash
# ç­–ç•¥æ—¥å¿—
tail -f deploy_new/nohup.out.92201

# ç½‘å…³æ—¥å¿—
tail -f deploy_new/log/md_shm_feeder.$(date +%Y%m%d).log
tail -f deploy_new/log/counter_bridge.$(date +%Y%m%d).log
```

**æ£€æŸ¥è¿›ç¨‹çŠ¶æ€**:
```bash
ps aux | grep -E "md_shm_feeder|counter_bridge|trader|webserver"
```

**æ£€æŸ¥å…±äº«å†…å­˜**:
```bash
ipcs -m
```

---

## é…ç½®ç®¡ç†

### æ¯ç­–ç•¥é…ç½®

æ¯ä¸ªç­–ç•¥ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š`config/trader.{strategy_id}.yaml`

```yaml
# config/trader.92201.yaml
system:
  strategy_id: 92201
  strategy_type: "TB_PAIR_STRAT"

shm:
  request_key: 0x2001
  response_key: 0x3001
  md_key: 0x1001
  client_store_key: 0x4001

strategy:
  symbols:
    - ag2603
    - ag2605
  parameters:
    begin_place: 0.5          # æµ‹è¯•ç”¨ä½é˜ˆå€¼
    long_place: 2.0
    short_place: -2.0
    size: 1
    max_size: 10
```

### å…³é”®é…ç½®é¡¹è¯´æ˜

- **shm.request_key / response_key / md_key**: SysV SHM é˜Ÿåˆ— keyï¼Œå¿…é¡»ä¸ counter_bridge / md_shm_feeder ä¸€è‡´
- **begin_place**: å¼€å§‹æŒ‚å•é˜ˆå€¼ï¼ˆæµ‹è¯•ç”¨ä½å€¼ï¼Œç”Ÿäº§ç”¨ä¿å®ˆå€¼ï¼‰
- **max_size**: æœ€å¤§æŒä»“ï¼Œæ ¹æ®è´¦æˆ·èµ„é‡‘å’Œé£é™©æ‰¿å—èƒ½åŠ›è®¾ç½®

---

## é‡è¦çº¦å®š

### SysV SHM Key åˆ†é…

| Key | åè¿›åˆ¶ | ç”¨é€” | å†™å…¥æ–¹ | è¯»å–æ–¹ |
|-----|--------|------|--------|--------|
| `0x1001` | 4097 | è¡Œæƒ…é˜Ÿåˆ—ï¼ˆMarketUpdateNewï¼‰ | md_shm_feeder | trader |
| `0x2001` | 8193 | è®¢å•è¯·æ±‚é˜Ÿåˆ—ï¼ˆRequestMsgï¼‰ | trader | counter_bridge |
| `0x3001` | 12289 | è®¢å•å›æŠ¥é˜Ÿåˆ—ï¼ˆResponseMsgï¼‰ | counter_bridge | trader |
| `0x4001` | 16385 | ClientStoreï¼ˆå®¢æˆ·ç«¯ ID åˆ†é…ï¼‰ | trader / counter_bridge | trader / counter_bridge |

### è®¢å• ID æ ¼å¼

- æ ¼å¼: `clientId * 1_000_000 + seq`ï¼ˆä¸ hftbase Connector ä¸€è‡´ï¼‰
- å›æŠ¥è¿‡æ»¤: `OrderID / ORDERID_RANGE` åŒ¹é… clientId

### æ¶ˆæ¯ç»“æ„ä½“

- `MarketUpdateNew`: ~900+ bytesï¼ˆå« `bookElement_t[20] x 2`ï¼‰ï¼Œæ¥è‡ª `hftbase/CommonUtils/include/marketupdateNew.h`
- `RequestMsg`: `__attribute__((aligned(64)))`ï¼ŒGo éœ€æ‰‹åŠ¨è¡¥ padding
- `ResponseMsg`: `ResponseType` 19 ç§æšä¸¾ï¼ˆNEW_ORDER_CONFIRM=0, TRADE_CONFIRM=4, ORDER_ERROR=5 ç­‰ï¼‰

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ï¼šæ— è¡Œæƒ…æ•°æ®

```bash
# æ£€æŸ¥ md_shm_feeder è¿›ç¨‹
ps aux | grep md_shm_feeder

# æ£€æŸ¥ SHM æ˜¯å¦åˆ›å»º
ipcs -m

# æ£€æŸ¥æ—¥å¿—
tail -f deploy_new/log/md_shm_feeder.*.log
```

### é—®é¢˜ï¼šæ— è®¢å•ç”Ÿæˆ

**æ£€æŸ¥æ¸…å•**:
1. trader æ˜¯å¦åœ¨è¿è¡Œï¼Ÿ
   ```bash
   ps aux | grep trader
   ```

2. counter_bridge æ˜¯å¦åœ¨è¿è¡Œï¼Ÿ
   ```bash
   ps aux | grep counter_bridge
   ```

3. ç­–ç•¥å‚æ•°æ˜¯å¦æ­£ç¡®ï¼Ÿ
   ```bash
   grep -i "begin_place\|threshold" deploy_new/nohup.out.*
   ```

### é—®é¢˜ï¼šå…±äº«å†…å­˜é”™è¯¯

```bash
# æ¸…ç†æ‰€æœ‰ SysV å…±äº«å†…å­˜æ®µ
ipcs -m | grep "$(whoami)" | awk '{print $2}' | xargs -I{} ipcrm -m {}

# é‡å¯
cd deploy_new
./scripts/stop_all.sh
./scripts/start_gateway.sh sim
```

---

## å®‰å…¨è§„èŒƒ

### ç¦æ­¢äº‹é¡¹

- âŒ åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥ã€å¯†ç 
- âŒ æäº¤æ•æ„Ÿé…ç½®æ–‡ä»¶ï¼ˆä½¿ç”¨ `.gitignore`ï¼‰
- âŒ åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ `auto_activate: true`
- âŒ è·³è¿‡é£é™©æ£€æŸ¥
- âŒ åœ¨ä¸äº†è§£çš„æƒ…å†µä¸‹ä¿®æ”¹å…±äº«å†…å­˜ç»“æ„

### æ¨èå®è·µ

- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨é…ç½®ç®¡ç†æ•æ„Ÿä¿¡æ¯
- âœ… æµ‹è¯•æ–°ç­–ç•¥æ—¶å…ˆç”¨å°ä»“ä½
- âœ… å®šæœŸå¤‡ä»½é…ç½®å’Œæ—¥å¿—
- âœ… ä»£ç å®¡æŸ¥å…³æ³¨é£æ§é€»è¾‘
- âœ… æäº¤å‰è¿è¡Œå®Œæ•´æµ‹è¯•

---

## æ–‡ä»¶ç»„ç»‡ç»“æ„

```
quantlink-trade-system/
â”œâ”€â”€ gateway/              # C++ ç½‘å…³ä»£ç ï¼ˆmd_shm_feeder, counter_bridge ç­‰ï¼‰
â”‚   â”œâ”€â”€ src/             # æºæ–‡ä»¶
â”‚   â”œâ”€â”€ include/         # å¤´æ–‡ä»¶
â”‚   â””â”€â”€ build/           # ç¼–è¯‘äº§ç‰©ï¼ˆä¸æäº¤ï¼‰
â”œâ”€â”€ tbsrc-golang/        # Golang ç­–ç•¥ä»£ç ï¼ˆæ´»è·ƒï¼ŒSysV SHM ç›´è¿ï¼‰
â”‚   â”œâ”€â”€ cmd/             # ä¸»ç¨‹åºå…¥å£ï¼ˆtrader, webserver, backtestï¼‰
â”‚   â”œâ”€â”€ pkg/             # ä¸šåŠ¡é€»è¾‘åŒ…ï¼ˆshm, connector, common, strategy, indicator, configï¼‰
â”‚   â””â”€â”€ web/             # Web èµ„æº
â”œâ”€â”€ deploy_new/          # ç¼–è¯‘éƒ¨ç½²äº§ç‰©ï¼ˆç”± build_deploy_new.sh ç”Ÿæˆï¼Œä¸æäº¤ï¼‰
â”œâ”€â”€ data_new/            # æŒä¹…é…ç½®æ¨¡æ¿ï¼ˆconfig, controls, modelsï¼‰
â”œâ”€â”€ scripts/             # è„šæœ¬æ–‡ä»¶ï¼ˆæŒ‰åŠŸèƒ½åˆ†ç±»ï¼‰
â”‚   â”œâ”€â”€ build_deploy_new.sh  # ä¸€é”®ç¼–è¯‘éƒ¨ç½²
â”‚   â”œâ”€â”€ test/            # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ live/            # å®ç›˜è„šæœ¬
â”‚   â””â”€â”€ backtest/        # å›æµ‹è„šæœ¬
â”œâ”€â”€ docs/                # æ–‡æ¡£ï¼ˆæŒ‰ä¸»é¢˜åˆ†ç±»ï¼‰
â”‚   â”œâ”€â”€ README.md        # æ–‡æ¡£ç´¢å¼•ä¸­å¿ƒ
â”‚   â”œâ”€â”€ æ ¸å¿ƒæ–‡æ¡£/        # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ åŠŸèƒ½å®ç°/        # Phase2-9 å®æ–½è®¡åˆ’
â”‚   â”œâ”€â”€ ç³»ç»Ÿåˆ†æ/        # æ¶æ„åˆ†æã€MWMR è§„æ ¼
â”‚   â””â”€â”€ archive/         # å·²å½’æ¡£æ–‡æ¡£ï¼ˆ131ä¸ªï¼‰
â””â”€â”€ .claude/             # Claude Code è§„åˆ™
```

### .gitignore é‡ç‚¹

```gitignore
# ç¼–è¯‘äº§ç‰©
gateway/build/
bin/
*.o
*.so

# æ—¥å¿—
log/
test_logs/
*.log

# ä¸´æ—¶æ–‡ä»¶
*.swp
*.tmp
.DS_Store

# æ•æ„Ÿé…ç½®
config/*.local.yaml
.env
```

---

## æ€§èƒ½è¦æ±‚

### å»¶è¿ŸæŒ‡æ ‡

- SysV SHM è¯»å†™: < 1usï¼ˆå¾®ç§’çº§ï¼‰
- ç­–ç•¥è®¡ç®—: < 10ms
- **ç«¯åˆ°ç«¯å»¶è¿Ÿï¼ˆè¡Œæƒ… â†’ è®¢å•ï¼‰**: < 20ms

### èµ„æºé™åˆ¶

- CPU ä½¿ç”¨: å•è¿›ç¨‹ < 20%
- å†…å­˜å ç”¨: å•è¿›ç¨‹ < 100MB
- ç½‘ç»œæµé‡: < 10MB/min

---

## Git å·¥ä½œæµ

### åˆ†æ”¯ç­–ç•¥

- `main`: ç”Ÿäº§ç¨³å®šç‰ˆæœ¬
- `develop`: å¼€å‘ä¸»åˆ†æ”¯
- `feature/*`: æ–°åŠŸèƒ½å¼€å‘
- `bugfix/*`: Bug ä¿®å¤
- `hotfix/*`: ç´§æ€¥ä¿®å¤

### æäº¤è§„èŒƒ

ä½¿ç”¨ Conventional Commits:

```
feat: æ·»åŠ é…å¯¹å¥—åˆ©ç­–ç•¥
fix: ä¿®å¤å…±äº«å†…å­˜æ³„æ¼é—®é¢˜
docs: æ›´æ–°ç«¯åˆ°ç«¯æµ‹è¯•æ–‡æ¡£
refactor: é‡æ„è®¢å•è·¯ç”±é€»è¾‘
test: æ·»åŠ ç­–ç•¥å¼•æ“å•å…ƒæµ‹è¯•
chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

### æäº¤å‰æ£€æŸ¥

1. âœ… ä»£ç å·²æ ¼å¼åŒ–ï¼ˆC++/Golangï¼‰
2. âœ… é€šè¿‡ç¼–è¯‘
3. âœ… é€šè¿‡å•å…ƒæµ‹è¯•
4. âœ… æ›´æ–°ç›¸å…³æ–‡æ¡£
5. âœ… æ£€æŸ¥ .gitignoreï¼ˆä¸æäº¤æ—¥å¿—ã€äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰

---

## éƒ¨ç½²æ£€æŸ¥æ¸…å•

### ä¸Šçº¿å‰éªŒè¯

- [ ] å®Œæ•´ç«¯åˆ°ç«¯æµ‹è¯•é€šè¿‡
- [ ] é…ç½®æ–‡ä»¶å·²åˆ‡æ¢åˆ°ç”Ÿäº§é…ç½®
- [ ] ç­–ç•¥å‚æ•°å·²è°ƒæ•´åˆ°ä¿å®ˆå€¼ï¼ˆentry_zscore â‰¥ 2.0ï¼‰
- [ ] é£æ§å‚æ•°å·²è®¾ç½®åˆç†å€¼
- [ ] æ—¥å¿—çº§åˆ«è®¾ç½®æ­£ç¡®ï¼ˆinfo æˆ– warnï¼‰
- [ ] èµ„æºç›‘æ§å·²å°±ç»ª
- [ ] å›æ»šæ–¹æ¡ˆå·²å‡†å¤‡

### ç›‘æ§æŒ‡æ ‡

- è®¢å•æˆåŠŸç‡
- ç­–ç•¥ä¿¡å·é¢‘ç‡
- ç³»ç»Ÿå»¶è¿Ÿ
- CPU/å†…å­˜ä½¿ç”¨
- é”™è¯¯æ—¥å¿—æ•°é‡

---

## ç«¯åˆ°ç«¯æµ‹è¯•è§„åˆ™

### âš ï¸ é‡è¦ï¼šæµ‹è¯•å‰å¿…é¡»ç¼–è¯‘å’Œéƒ¨ç½²

**ç«¯åˆ°ç«¯æµ‹è¯•çš„å®Œæ•´æµç¨‹æ˜¯ï¼šç¼–è¯‘ â†’ éƒ¨ç½² â†’ æµ‹è¯•**

å¦‚æœä¿®æ”¹äº†ä»£ç ï¼Œå¿…é¡»å…ˆé‡æ–°ç¼–è¯‘å¹¶éƒ¨ç½²åˆ° `deploy_new/` ç›®å½•ï¼Œå¦åˆ™æµ‹è¯•çš„æ˜¯æ—§ä»£ç ï¼

```bash
# 1. ç¼–è¯‘éƒ¨ç½²
./scripts/build_deploy_new.sh --go      # åªéƒ¨ç½² Go
./scripts/build_deploy_new.sh --cpp     # åªéƒ¨ç½² C++
./scripts/build_deploy_new.sh           # å…¨éƒ¨éƒ¨ç½²

# 2. è¿è¡Œæµ‹è¯•
cd deploy_new
./scripts/start_gateway.sh sim          # æ¨¡æ‹Ÿæµ‹è¯•
./scripts/start_strategy.sh 92201
# è§‚å¯Ÿæ—¥å¿—ç¡®è®¤æ­£å¸¸ååœæ­¢
./scripts/stop_all.sh
```

### æ¨¡æ‹Ÿæµ‹è¯•

```bash
cd deploy_new
./scripts/start_gateway.sh sim
./scripts/start_strategy.sh 92201
```

**æ¶æ„**:
```
md_shm_feeder (simulator) â†’ [SysV SHM 0x1001] â†’ trader â†’ [SysV SHM 0x2001] â†’ counter_bridge (simulator)
```

### CTP å®ç›˜æµ‹è¯•

```bash
cd deploy_new
./scripts/start_gateway.sh ctp
./scripts/start_strategy.sh 92201
```

**æ¶æ„**:
```
md_shm_feeder (CTP) â†’ [SysV SHM 0x1001] â†’ trader â†’ [SysV SHM 0x2001] â†’ counter_bridge (CTP) â†’ CTPäº¤æ˜“æœåŠ¡å™¨
```

### æµ‹è¯•å‰ç½®æ¡ä»¶

**æ¨¡æ‹Ÿæµ‹è¯•**: æ— éœ€é¢å¤–é…ç½®ï¼Œä½¿ç”¨ `config/trader.{id}.yaml`

**CTPå®ç›˜æµ‹è¯•**:
- éœ€è¦ `config/ctp/ctp_md.secret.yaml` (è¡Œæƒ…è´¦å·)
- éœ€è¦ `config/ctp/ctp_td.secret.yaml` (äº¤æ˜“è´¦å·)
- SimNow æ ‡å‡†ç¯å¢ƒäº¤æ˜“æ—¶æ®µï¼šå‘¨ä¸€è‡³å‘¨äº” 9:00-15:00

### åœæ­¢æœåŠ¡

```bash
cd deploy_new
./scripts/stop_all.sh
```

---

## è”ç³»æ–¹å¼

**ç³»ç»Ÿç»´æŠ¤**: å‚è€ƒ @docs/README.md

**é—®é¢˜åé¦ˆ**: åˆ›å»º Issue æˆ–æäº¤ PR

---

## ğŸ“‹ é¡¹ç›®é‡ç»„å†å²

**2026-02-24**: æ–‡æ¡£å½’æ¡£ + æ¶æ„æ›´æ–°
- å½’æ¡£ 94 ä¸ªè¿‡æ—¶æ–‡æ¡£åˆ° archive/ï¼ˆgolang/ 35ä¸ªã€æµ‹è¯•æŠ¥å‘Š/ 8ä¸ªã€æ ¸å¿ƒæ–‡æ¡£/ 4ä¸ªã€å®ç›˜/ 27ä¸ªã€åŠŸèƒ½å®ç°/ 15ä¸ªã€ç³»ç»Ÿåˆ†æ/ 5ä¸ªï¼‰
- æ–°å»ºéƒ¨ç½²æŒ‡å— `docs/æ ¸å¿ƒæ–‡æ¡£/DEPLOY_GUIDE_2026-02-24.md`ï¼ˆSysV MWMR SHM ç›´è¿æ¶æ„ï¼‰
- æ›´æ–° CLAUDE.mdï¼šç§»é™¤ NATS/gRPC/ors_gateway/md_gateway æ—§æ¶æ„å¼•ç”¨ï¼Œæ›¿æ¢ä¸º SysV MWMR SHM æè¿°
- æ›´æ–° docs/README.md æ–‡æ¡£ç´¢å¼•

**2026-02-09**: åˆå¹¶ç®€åŒ–æµ‹è¯•è„šæœ¬
- ç»Ÿä¸€ä½¿ç”¨ `--run` å‚æ•°æ§åˆ¶è¿è¡Œæ¨¡å¼
- ç§»é™¤ live/ ç›®å½•ä¸­çš„é‡å¤è„šæœ¬ï¼Œåªä¿ç•™ stop_all.sh
- æ ¸å¿ƒè„šæœ¬ï¼štest_simulator_e2e.shã€test_ctp_live_e2e.sh

**2026-01-30**: å»ºç«‹æ–‡æ¡£ä¸è„šæœ¬å…³è”ä½“ç³»
- åˆ›å»º CROSS_REFERENCE.md äº¤å‰ç´¢å¼•æ–‡ä»¶
- å»ºç«‹ä¸‰ç§å…³è”æ–¹å¼ï¼šè„šæœ¬â†’æ–‡æ¡£ã€æ–‡æ¡£â†’è„šæœ¬ã€äº¤å‰ç´¢å¼•
- æ–°å¢è§„åˆ™ 11-16: å…³è”ç®¡ç†è§„èŒƒ
- æä¾›åŠŸèƒ½æŸ¥æ‰¾ã€æ–‡æ¡£æŸ¥æ‰¾ã€æ•…éšœæ’æŸ¥ä¸‰ç±»å¿«é€ŸæŸ¥æ‰¾è¡¨

**2026-01-30**: å®Œæˆè„šæœ¬ç›®å½•é‡ç»„
- å°†25ä¸ª .sh è„šæœ¬ä»æ ¹ç›®å½•æ•´ç†åˆ° scripts/ ç›®å½•
- æŒ‰åŠŸèƒ½åˆ†ç±»ï¼štest/, live/, trading/, backtest/
- æ ¹ç›®å½•è„šæœ¬ä»25ä¸ªå‡å°‘åˆ°0ä¸ª
- åˆ›å»º scripts/README.md ä½¿ç”¨æŒ‡å—
- æµ‹è¯•è„šæœ¬ç»†åˆ†ä¸º: e2e/, integration/, unit/, feature/
- æ–°å¢è§„åˆ™ 5-10: è„šæœ¬ç®¡ç†è§„èŒƒ

**2026-01-30**: å®Œæˆæ–‡æ¡£ç›®å½•é‡ç»„
- å°†114ä¸ªæ–‡æ¡£ä»æ··ä¹±çš„æ ¹ç›®å½•é‡ç»„ä¸º10ä¸ªä¸»é¢˜ç›®å½•
- æ ¹ç›®å½•æ–‡æ¡£ä»73ä¸ªå‡å°‘åˆ°3ä¸ªï¼ˆREADME.md, QUICKSTART.md, TASKS.mdï¼‰
- åˆ›å»ºå®Œæ•´çš„æ–‡æ¡£ç´¢å¼•å’Œå¯¼èˆªç³»ç»Ÿ
- å½’æ¡£35ä¸ªæ—§æ–‡æ¡£åˆ° archive/
- è¯¦ç»†æŠ¥å‘Š: @docs/ç³»ç»Ÿåˆ†æ/æ–‡æ¡£é‡ç»„å®ŒæˆæŠ¥å‘Š_2026-01-30-23_30.md

**2026-01-30**: å®ŒæˆæŒä»“ç®¡ç†åŠŸèƒ½å®æ–½
- Phase 1-5: æŒä»“æŸ¥è¯¢ã€åˆå§‹åŒ–ã€æŒä¹…åŒ–ã€å®šæœŸæ ¡éªŒ
- ä¿®å¤å‚æ•°åŠ è½½ç±»å‹ä¸åŒ¹é…é—®é¢˜ï¼ˆmin_correlationã€slippage_ticksï¼‰
- å®æ–½åŒé‡ä¿éšœæœºåˆ¶ï¼šCTPæŸ¥è¯¢ + JSONæ–‡ä»¶æ¢å¤
- è¯¦ç»†æŠ¥å‘Š: @docs/å®ç›˜/Phase2-5_å®Œæ•´æŒä»“ç®¡ç†åŠŸèƒ½å®æ–½æŠ¥å‘Š_2026-01-30-11_35.md

---

**æœ€åæ›´æ–°**: 2026-02-24
**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
