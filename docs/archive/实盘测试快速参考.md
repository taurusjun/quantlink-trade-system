# å®ç›˜å¤šç­–ç•¥æµ‹è¯• - å¿«é€Ÿå‚è€ƒ

**å½“å‰çŠ¶æ€**: âœ… ç³»ç»Ÿå°±ç»ªï¼Œç­‰å¾…äº¤æ˜“æ—¶æ®µ
**å¯åŠ¨æ—¶é—´**: 2026-01-30 10:27
**Dashboard**: http://localhost:9201

---

## ğŸš€ ç³»ç»Ÿç»„ä»¶ï¼ˆå…¨éƒ¨è¿è¡Œä¸­ï¼‰

| ç»„ä»¶ | PID | çŠ¶æ€ |
|------|-----|------|
| CTPè¡Œæƒ…ç½‘å…³ | 38495 | âœ… |
| md_gateway | 38528 | âœ… |
| ors_gateway | 38545 | âœ… |
| counter_bridge | 38667 | âœ… |
| trader | 38708 | âœ… |

---

## ğŸ“Š ç­–ç•¥çŠ¶æ€

| ç­–ç•¥ID | å“ç§ | æ¿€æ´» | èµ„é‡‘åˆ†é… |
|--------|------|------|----------|
| test_92201 | ag2603/ag2605 | âœ… | 30% |
| test_92202 | au2604/au2606 | âœ… | 40% |
| test_92203 | ag2603/ag2605 | âœ… | 30% |

---

## ğŸ“¡ ç›‘æ§å‘½ä»¤

### å®æ—¶è¡Œæƒ…
```bash
tail -f log/trader.test.log | grep "Received market data"
```

### å®æ—¶è®¢å•
```bash
tail -f log/trader.test.log | grep "Order sent"
```

### ç­–ç•¥ç»Ÿè®¡
```bash
tail -f log/trader.test.log | grep "Stats:"
```

### æŒä»“å˜åŒ–
```bash
tail -f log/trader.test.log | grep "position updated"
```

### ç³»ç»Ÿæ€»è§ˆ
```bash
./monitor_live_test.sh
```

---

## ğŸ¯ APIå¿«æ·æ“ä½œ

### æŸ¥è¯¢ç­–ç•¥çŠ¶æ€
```bash
curl -s http://localhost:9201/api/v1/strategies | jq '.data.strategies[] | {id, active, conditions_met}'
```

### æŸ¥è¯¢æŒä»“
```bash
curl -s http://localhost:9201/api/v1/positions | jq .
```

### Dashboardæ€»è§ˆ
```bash
curl -s http://localhost:9201/api/v1/dashboard/overview | jq .data
```

### åœç”¨ç­–ç•¥ï¼ˆç´§æ€¥ï¼‰
```bash
curl -X POST http://localhost:9201/api/v1/strategies/test_92201/deactivate
curl -X POST http://localhost:9201/api/v1/strategies/test_92202/deactivate
curl -X POST http://localhost:9201/api/v1/strategies/test_92203/deactivate
```

---

## ğŸ”§ çƒ­åŠ è½½æ“ä½œ

### ä¿®æ”¹å‚æ•°åé‡æ–°åŠ è½½
```bash
# 1. ä¿®æ”¹Modelæ–‡ä»¶
vim golang/models/model.test_92201.txt

# 2. è§¦å‘çƒ­åŠ è½½
curl -X POST http://localhost:9201/api/v1/strategies/test_92201/model/reload

# 3. æŸ¥çœ‹çŠ¶æ€
curl http://localhost:9201/api/v1/strategies/test_92201/model/status | jq .
```

---

## âš ï¸ ç´§æ€¥åœæ­¢

```bash
# æ–¹æ³•1: åœç”¨æ‰€æœ‰ç­–ç•¥ï¼ˆæ¨èï¼‰
for id in test_92201 test_92202 test_92203; do
  curl -X POST http://localhost:9201/api/v1/strategies/$id/deactivate
done

# æ–¹æ³•2: åœæ­¢traderè¿›ç¨‹
kill 38708

# æ–¹æ³•3: å®Œå…¨åœæ­¢ç³»ç»Ÿ
pkill -9 ctp_md_gateway
pkill -9 md_gateway
pkill -9 ors_gateway
pkill -9 counter_bridge
pkill -9 trader
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

äº¤æ˜“æ—¶æ®µå¼€å§‹æ—¶ï¼š

- [ ] è¡Œæƒ…æ¢å¤ï¼š`tail -f log/trader.test.log | grep "market data"`
- [ ] ç­–ç•¥è®¡ç®—ï¼šæŸ¥çœ‹Statsæ—¥å¿—ï¼Œzscoreå’Œcorrå€¼
- [ ] æ¡ä»¶æ»¡è¶³ï¼šconditions_met å˜ä¸º true
- [ ] è®¢å•å‘é€ï¼šè§‚å¯Ÿ "Order sent" æ—¥å¿—
- [ ] è®¢å•æˆäº¤ï¼šè§‚å¯Ÿ "FILLED" çŠ¶æ€
- [ ] æŒä»“æ›´æ–°ï¼šè§‚å¯Ÿ "position updated" æ—¥å¿—
- [ ] PnLè®¡ç®—ï¼šæŸ¥è¯¢ /api/v1/positions

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ |
|------|------|------|
| ç«¯åˆ°ç«¯å»¶è¿Ÿ | <100ms | âœ… |
| è®¢å•æˆåŠŸç‡ | >95% | â³ å¾…éªŒè¯ |
| ç­–ç•¥è¿è¡Œç¨³å®šæ€§ | æ— å´©æºƒ | âœ… |

---

## ğŸ“ é—®é¢˜æ’æŸ¥

### æ— è¡Œæƒ…æ•°æ®
```bash
# æ£€æŸ¥CTPè¿æ¥
tail test_logs/ctp_md.log | grep -E "Connected|Login"

# æ£€æŸ¥md_gateway
ps aux | grep md_gateway
```

### è®¢å•å¤±è´¥
```bash
# æŸ¥çœ‹æ‹’å•åŸå› 
grep "REJECTED" log/trader.test.log | tail -10

# æ£€æŸ¥äº¤æ˜“è¿æ¥
tail test_logs/counter_bridge.log
```

### ç­–ç•¥æ— ä¿¡å·
```bash
# æŸ¥çœ‹ç­–ç•¥ç»Ÿè®¡
grep "Stats:" log/trader.test.log | tail -10

# æ£€æŸ¥æ¡ä»¶
curl -s http://localhost:9201/api/v1/strategies/test_92201 | jq .
```

---

**è¯¦ç»†æŠ¥å‘Š**: `docs/å®ç›˜å¤šç­–ç•¥ç«¯åˆ°ç«¯æµ‹è¯•æŠ¥å‘Š_2026-01-30-10_30.md`
