# CLAUDE.md 规则同步完成报告

**日期**: 2026-01-30 23:45
**任务**: 将文档组织规则同步到 .claude/CLAUDE.md

---

## ✅ 完成内容

### 1. 更新关键文档路径

**修改前**:
```markdown
**关键文档**:
- 系统架构: @docs/CURRENT_ARCHITECTURE_FLOW.md
- 构建指南: @docs/BUILD_GUIDE.md
- 使用说明: @docs/USAGE.md
- 最新测试报告: @docs/QuantlinkTrader_端到端测试报告_2026-01-24-15_32.md
```

**修改后**:
```markdown
**关键文档**:
- 文档索引中心: @docs/README.md
- 系统架构: @docs/核心文档/CURRENT_ARCHITECTURE_FLOW.md
- 构建指南: @docs/核心文档/BUILD_GUIDE.md
- 使用说明: @docs/核心文档/USAGE.md
- 最新实盘报告: @docs/实盘/Phase2-5_完整持仓管理功能实施报告_2026-01-30-11_35.md
```

### 2. 更新文档目录结构规则

**新增内容**:
- ✅ 标注 "2026-01-30 重组"
- ✅ 列出10个主题目录及文档数量
- ✅ **IMPORTANT 标记**: 创建新文档时的放置规则（9条）
- ✅ 完整的目录结构示例
- ✅ 查找文档的方法说明

### 3. 更新文档生命周期规则

**新增内容**:
- ✅ **IMPORTANT 标记**: 文档索引维护规则
- ✅ 详细说明何时更新 README.md
- ✅ 文档索引结构示例

### 4. 更新文件组织结构

**修改前**:
```
├── docs/                # 文档
└── .claude/             # Claude Code 规则
```

**修改后**:
```
├── docs/                # 文档（按主题分类）
│   ├── README.md        # 文档索引中心
│   ├── 核心文档/        # 系统核心文档
│   ├── 实盘/            # 实盘交易相关
│   ├── 回测/            # 回测系统文档
│   ├── 测试报告/        # 各类测试报告
│   ├── 功能实现/        # 功能实施文档
│   ├── 系统分析/        # 系统分析文档
│   ├── golang/          # Golang模块文档
│   ├── gateway/         # Gateway模块文档
│   └── archive/         # 已归档文档
├── data/                # 数据目录
│   └── positions/       # 持仓快照文件
└── .claude/             # Claude Code 规则
```

### 5. 添加文档重组历史

**新增章节**: `## 📋 文档重组历史`

记录了两个重要事件：
- ✅ 2026-01-30: 文档目录重组
- ✅ 2026-01-30: 持仓管理功能实施

### 6. 更新版本信息

- 版本号: v1.1 → v1.2
- 更新日期: 2026-01-24 → 2026-01-30

---

## 📋 CLAUDE.md 关键规则摘要

### 创建新文档时必须遵循

**1. 放置位置**（按主题分类）:
```
实盘部署、问题修复     → docs/实盘/
回测系统、参数优化     → docs/回测/
测试报告、验证结果     → docs/测试报告/
新功能实施            → docs/功能实现/
系统分析、架构设计     → docs/系统分析/
Golang技术细节        → docs/golang/
Gateway实现           → docs/gateway/
过时文档              → docs/archive/
核心文档更新          → docs/核心文档/（谨慎操作）
```

**2. 命名格式**:
```
模块_摘要_YYYY-MM-DD-HH_mm.md
```

**3. 内容语言**:
- 文档正文：中文
- 代码片段：保持原始语言
- 技术术语：可保留英文，首次出现提供中文说明

**4. 文档索引维护**:
- 创建重要文档后，更新 `docs/README.md`
- 添加到相应主题章节
- 更新常见问题速查表（如适用）

---

## 🎯 Claude Code AI 行为规范

基于更新后的 CLAUDE.md，AI 在处理文档时将：

### ✅ 应该做的

1. **创建文档时**:
   - 自动放置到正确的主题目录
   - 使用正确的命名格式
   - 使用中文编写正文

2. **重要文档时**:
   - 创建后更新 `docs/README.md` 索引
   - 添加到相应主题的导航章节

3. **查找文档时**:
   - 首先查看 `docs/README.md` 索引
   - 按主题目录查找
   - 使用 find 命令搜索

4. **旧文档处理**:
   - 过时文档移动到 `docs/archive/`
   - 不删除文档，只归档

### ❌ 不应该做的

1. **不要**在 `docs/` 根目录创建新文档（除非是核心文档）
2. **不要**使用英文编写文档正文
3. **不要**使用不标准的命名格式
4. **不要**删除旧文档（应归档）
5. **不要**忘记维护 README.md 索引

---

## 📊 规则同步效果

### 同步前
- ❌ CLAUDE.md 中的文档路径指向旧位置
- ❌ 目录结构说明过时
- ❌ 缺少新文档放置规则
- ❌ 没有文档重组历史记录

### 同步后
- ✅ 所有文档路径更新到新位置
- ✅ 目录结构反映最新状态
- ✅ 明确的新文档放置规则（带 IMPORTANT 标记）
- ✅ 完整的文档重组历史
- ✅ 版本号和日期更新

---

## 🔗 相关文件

- **规则文件**: `.claude/CLAUDE.md` (已更新)
- **文档索引**: `docs/README.md`
- **重组报告**: `docs/系统分析/文档重组完成报告_2026-01-30-23_30.md`
- **本报告**: `docs/CLAUDE_规则同步完成_2026-01-30-23_45.md`

---

## ✨ 总结

✅ **CLAUDE.md 已完全同步最新的文档组织规则**

从此以后，Claude Code AI 将：
- 自动遵循新的文档组织规则
- 将新文档放置到正确的主题目录
- 维护 README.md 文档索引
- 使用标准的命名格式和中文编写

所有规则已固化到 `.claude/CLAUDE.md`，确保每次会话都能遵循统一的文档管理规范。

---

**任务状态**: ✅ 完成
**同步时间**: 2026-01-30 23:45
