# HFT-POC ç³»ç»Ÿå¯åŠ¨å’Œå…¨é“¾è·¯æµ‹è¯•æŒ‡å—

**åˆ›å»ºæ—¶é—´**: 2026-01-20
**ç³»ç»Ÿç‰ˆæœ¬**: v0.1 POC

---

## ğŸ“ ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         åº”ç”¨å±‚ (Golang)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Strategy     â”‚  â”‚  Portfolio   â”‚  â”‚     Risk     â”‚         â”‚
â”‚  â”‚ Engine       â”‚  â”‚  Manager     â”‚  â”‚   Manager    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                             â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â–¼                                       â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  MD Client   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ ORS Client   â”‚       â”‚
â”‚  â”‚  (è¡Œæƒ…è®¢é˜…)   â”‚                       â”‚  (è®¢å•å‘é€)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                       â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ gRPC/NATS                             â”‚ gRPC
          â”‚ (è¡Œæƒ…æ¨é€)                             â”‚ (è®¢å•/å›æŠ¥)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚                Gatewayå±‚ (C++)         â”‚                â”‚
â”‚         â–¼                                       â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  MD Gateway  â”‚                       â”‚ ORS Gateway  â”‚       â”‚
â”‚  â”‚  (è¡Œæƒ…ç½‘å…³)   â”‚                       â”‚  (è®¢å•ç½‘å…³)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                       â”‚                â”‚
â”‚         â”‚ Shared Memory                         â”‚ Shared Memory  â”‚
â”‚         â”‚ (SPSC Queue)                          â–¼                â”‚
â”‚         â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                      â”‚   Counter    â”‚        â”‚
â”‚  â”‚     MD       â”‚                      â”‚   Gateway    â”‚        â”‚
â”‚  â”‚  Simulator   â”‚                      â”‚ (äº¤æ˜“ç½‘å…³)    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                                 â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚    Exchange    â”‚
                                        â”‚   (æ¨¡æ‹Ÿ/çœŸå®)   â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒç»„ä»¶è¯´æ˜

### Gatewayå±‚ (C++)

#### 1. MD Gateway (è¡Œæƒ…ç½‘å…³)
**ä½ç½®**: `gateway/build/md_gateway`

**åŠŸèƒ½**:
- ä»å…±äº«å†…å­˜é˜Ÿåˆ—è¯»å–åŸå§‹è¡Œæƒ…æ•°æ®
- è½¬æ¢ä¸ºProtobufæ ¼å¼ (MarketDataUpdate)
- é€šè¿‡gRPC Streamingæ¨é€ç»™è®¢é˜…è€…
- é€šè¿‡NATSå‘å¸ƒè¡Œæƒ…æ¶ˆæ¯ (å¯é€‰)

**ç«¯å£**:
- gRPC: `50051` (é»˜è®¤)
- å…±äº«å†…å­˜: `/tmp/hft_md_queue` æˆ– `/dev/shm/hft_md_queue`

**å¯åŠ¨å‘½ä»¤**:
```bash
cd gateway/build
./md_gateway [queue_name]
```

---

#### 2. ORS Gateway (è®¢å•è·¯ç”±ç½‘å…³)
**ä½ç½®**: `gateway/build/ors_gateway`

**åŠŸèƒ½**:
- æä¾›gRPCæœåŠ¡æ¥æ”¶è®¢å•è¯·æ±‚
- å°†è®¢å•è½¬æ¢ä¸ºRawæ ¼å¼å†™å…¥å…±äº«å†…å­˜
- ä»å…±äº«å†…å­˜è¯»å–è®¢å•å›æŠ¥
- è½¬æ¢ä¸ºProtobufæ¨é€ç»™å®¢æˆ·ç«¯

**ç«¯å£**:
- gRPC: `50052` (é»˜è®¤)
- è¯·æ±‚é˜Ÿåˆ—: `/tmp/ors_request`
- å“åº”é˜Ÿåˆ—: `/tmp/ors_response`

**å¯åŠ¨å‘½ä»¤**:
```bash
cd gateway/build
./ors_gateway -a 0.0.0.0:50052 -r ors_request -s ors_response
```

**å‚æ•°è¯´æ˜**:
- `-a, --address`: gRPCç›‘å¬åœ°å€
- `-r, --req-queue`: è¯·æ±‚é˜Ÿåˆ—åç§°
- `-s, --resp-queue`: å“åº”é˜Ÿåˆ—åç§°
- `-n, --nats`: NATSæœåŠ¡å™¨åœ°å€ (å¯é€‰)

---

#### 3. Counter Gateway (äº¤æ˜“æ‰€ç½‘å…³)
**ä½ç½®**: `gateway/build/counter_gateway`

**åŠŸèƒ½**:
- ä»å…±äº«å†…å­˜è¯»å–è®¢å•è¯·æ±‚
- è°ƒç”¨äº¤æ˜“æ‰€APIå‘é€è®¢å• (å½“å‰ä½¿ç”¨æ¨¡æ‹ŸAPI)
- æ¥æ”¶äº¤æ˜“æ‰€å›æŠ¥
- å†™å…¥å…±äº«å†…å­˜å“åº”é˜Ÿåˆ—

**ç«¯å£**:
- è¯·æ±‚é˜Ÿåˆ—: `/tmp/ors_request`
- å“åº”é˜Ÿåˆ—: `/tmp/ors_response`

**å¯åŠ¨å‘½ä»¤**:
```bash
cd gateway/build
./counter_gateway -r ors_request -s ors_response
```

**å‚æ•°è¯´æ˜**:
- `-r, --req-queue`: è¯·æ±‚é˜Ÿåˆ—åç§°
- `-s, --resp-queue`: å“åº”é˜Ÿåˆ—åç§°
- `-t, --type`: Counterç±»å‹ (simulated/ees/ctp)

**å½“å‰çŠ¶æ€**: ä½¿ç”¨ `SimulatedCounter`ï¼Œè‡ªåŠ¨æ¥å—æ‰€æœ‰è®¢å•å¹¶æ¨¡æ‹Ÿæˆäº¤

---

#### 4. MD Simulator (è¡Œæƒ…æ¨¡æ‹Ÿå™¨)
**ä½ç½®**: `gateway/build/md_simulator`

**åŠŸèƒ½**:
- ç”Ÿæˆæ¨¡æ‹Ÿè¡Œæƒ…æ•°æ®
- å†™å…¥å…±äº«å†…å­˜é˜Ÿåˆ—
- æ”¯æŒå¤šå“ç§ã€å¯é…ç½®é¢‘ç‡

**å¯åŠ¨å‘½ä»¤**:
```bash
cd gateway/build
./md_simulator <frequency_hz> [queue_name]

# ç¤ºä¾‹ï¼š1000Hzè¡Œæƒ…
./md_simulator 1000 queue
```

**å‚æ•°è¯´æ˜**:
- `frequency_hz`: è¡Œæƒ…é¢‘ç‡ (Hz)ï¼Œå¦‚ 100, 1000, 10000
- `queue_name`: å…±äº«å†…å­˜é˜Ÿåˆ—åç§° (å¯é€‰ï¼Œé»˜è®¤: "queue")

---

### åº”ç”¨å±‚ (Golang)

#### 5. MD Client (è¡Œæƒ…å®¢æˆ·ç«¯)
**ä½ç½®**: `golang/cmd/md_client/main.go`

**åŠŸèƒ½**:
- è¿æ¥MD Gateway
- è®¢é˜…æŒ‡å®šå“ç§è¡Œæƒ…
- ç»Ÿè®¡å»¶è¿Ÿå’Œååé‡

**å¯åŠ¨å‘½ä»¤**:
```bash
cd golang/cmd/md_client
go run main.go -gateway localhost:50051 -symbols ag2412,cu2412

# æˆ–ä½¿ç”¨NATS
go run main.go -nats -nats-url nats://localhost:4222
```

**å‚æ•°è¯´æ˜**:
- `-gateway`: MD Gatewayåœ°å€
- `-symbols`: è®¢é˜…å“ç§åˆ—è¡¨ (é€—å·åˆ†éš”)
- `-nats`: ä½¿ç”¨NATSè®¢é˜…
- `-nats-url`: NATSæœåŠ¡å™¨åœ°å€

---

#### 6. ORS Client (è®¢å•å®¢æˆ·ç«¯)
**ä½ç½®**: `golang/cmd/ors_client/main.go`

**åŠŸèƒ½**:
- è¿æ¥ORS Gateway
- å‘é€æµ‹è¯•è®¢å•
- æ¥æ”¶è®¢å•å›æŠ¥

**å¯åŠ¨å‘½ä»¤**:
```bash
cd golang/cmd/ors_client
go run main.go -gateway localhost:50052
```

---

#### 7. Strategy Demo (ç­–ç•¥æ¼”ç¤º)
**ä½ç½®**: `golang/cmd/strategy_demo/main.go`

**åŠŸèƒ½**:
- æ¼”ç¤ºå•ä¸ªç­–ç•¥è¿è¡Œ
- å±•ç¤ºç­–ç•¥å¼•æ“åŸºæœ¬åŠŸèƒ½

**å¯åŠ¨å‘½ä»¤**:
```bash
cd golang/cmd/strategy_demo
go run main.go
```

**æ³¨æ„**: å½“å‰æœ‰ç¼–è¯‘é”™è¯¯ï¼Œéœ€è¦ä¿®å¤

---

#### 8. Integrated Demo (é›†æˆæ¼”ç¤º)
**ä½ç½®**: `golang/cmd/integrated_demo/main.go`

**åŠŸèƒ½**:
- å®Œæ•´æ¼”ç¤ºç­–ç•¥å¼•æ“ + ç»„åˆç®¡ç† + é£æ§
- è¿è¡Œå¤šä¸ªç­–ç•¥
- å±•ç¤ºç³»ç»Ÿé›†æˆæ•ˆæœ

**å¯åŠ¨å‘½ä»¤**:
```bash
cd golang/cmd/integrated_demo
go run main.go
```

**æ³¨æ„**: å½“å‰æœ‰ç¼–è¯‘é”™è¯¯ï¼Œéœ€è¦ä¿®å¤

---

#### 9. All Strategies Demo (æ‰€æœ‰ç­–ç•¥æ¼”ç¤º)
**ä½ç½®**: `golang/cmd/all_strategies_demo/main.go`

**åŠŸèƒ½**:
- æ¼”ç¤ºæ‰€æœ‰5ç§ç­–ç•¥
- å±•ç¤ºç­–ç•¥å¤šæ ·æ€§

**å¯åŠ¨å‘½ä»¤**:
```bash
cd golang/cmd/all_strategies_demo
go run main.go
```

**æ³¨æ„**: å½“å‰æœ‰ç¼–è¯‘é”™è¯¯ï¼Œéœ€è¦ä¿®å¤

---

## ğŸ”„ æ•°æ®æµå‘è¯¦è§£

### è¡Œæƒ…æ•°æ®æµ (Market Data Flow)

```
1. MD Simulator ç”Ÿæˆè¡Œæƒ…
   â†“ (å†™å…¥å…±äº«å†…å­˜)
2. å…±äº«å†…å­˜é˜Ÿåˆ—: /tmp/hft_md_queue
   â†“ (MD Gatewayè¯»å–)
3. MD Gateway
   â”œâ”€â†’ gRPC Streaming â†’ MD Client â†’ Strategy Engine
   â””â”€â†’ NATS Publish â†’ NATS Subscriber â†’ Strategy Engine
```

**å…³é”®ç‰¹æ€§**:
- **é«˜æ€§èƒ½**: å…±äº«å†…å­˜é›¶æ‹·è´ä¼ è¾“
- **ä½å»¶è¿Ÿ**: < 10Î¼s ç½‘å…³å¤„ç†å»¶è¿Ÿ
- **å¯é æ€§**: SPSCæ— é”é˜Ÿåˆ—ä¿è¯é¡ºåº

---

### è®¢å•æ•°æ®æµ (Order Flow)

```
1. Strategy Engine ç”Ÿæˆäº¤æ˜“ä¿¡å·
   â†“
2. ORS Client å‘é€è®¢å•è¯·æ±‚
   â†“ (gRPCè°ƒç”¨)
3. ORS Gateway æ¥æ”¶è¯·æ±‚
   â†“ (å†™å…¥å…±äº«å†…å­˜)
4. å…±äº«å†…å­˜: /tmp/ors_request
   â†“ (Counter Gatewayè¯»å–)
5. Counter Gateway
   â†“ (è°ƒç”¨äº¤æ˜“æ‰€API)
6. Exchange (æ¨¡æ‹Ÿ/çœŸå®)
   â†“ (å›æŠ¥)
7. Counter Gateway æ¥æ”¶å›æŠ¥
   â†“ (å†™å…¥å…±äº«å†…å­˜)
8. å…±äº«å†…å­˜: /tmp/ors_response
   â†“ (ORS Gatewayè¯»å–)
9. ORS Gateway
   â†“ (gRPCæ¨é€)
10. ORS Client
    â†“
11. Strategy Engine æ›´æ–°æŒä»“å’ŒPNL
```

**å…³é”®ç‰¹æ€§**:
- **è§£è€¦**: Gatewayå±‚ä¸ä¸šåŠ¡å±‚åˆ†ç¦»
- **çµæ´»**: æ”¯æŒå¤šç§äº¤æ˜“æ‰€API
- **å®‰å…¨**: é£æ§åœ¨Strategyå±‚å’ŒGatewayå±‚åŒé‡æ£€æŸ¥

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨æµç¨‹

### æ–¹å¼1: æœ€å°åŒ–å¯åŠ¨ (ä»…Gatewayå±‚æµ‹è¯•)

**é€‚ç”¨åœºæ™¯**: æµ‹è¯•Gatewayæ€§èƒ½ï¼Œä¸æ¶‰åŠç­–ç•¥

```bash
# ç»ˆç«¯1: å¯åŠ¨MD Simulator
cd /Users/user/PWorks/RD/hft-poc/gateway/build
./md_simulator 1000 queue

# ç»ˆç«¯2: å¯åŠ¨MD Gateway
./md_gateway queue

# ç»ˆç«¯3: æµ‹è¯•è¡Œæƒ…æ¥æ”¶
cd /Users/user/PWorks/RD/hft-poc/golang/cmd/md_client
go run main.go -gateway localhost:50051 -symbols ag2412
```

**éªŒè¯**: ç»ˆç«¯3åº”è¯¥æ˜¾ç¤ºæŒç»­çš„è¡Œæƒ…æ›´æ–°å’Œå»¶è¿Ÿç»Ÿè®¡

---

### æ–¹å¼2: ORSé“¾è·¯æµ‹è¯• (è®¢å•è·¯ç”±æµ‹è¯•)

**é€‚ç”¨åœºæ™¯**: æµ‹è¯•è®¢å•è·¯ç”±ï¼Œä¸æ¶‰åŠç­–ç•¥

```bash
# ç»ˆç«¯1: å¯åŠ¨Counter Gateway
cd /Users/user/PWorks/RD/hft-poc/gateway/build
./counter_gateway -r ors_request -s ors_response

# ç»ˆç«¯2: å¯åŠ¨ORS Gateway
./ors_gateway -a 0.0.0.0:50052 -r ors_request -s ors_response

# ç»ˆç«¯3: æµ‹è¯•è®¢å•å‘é€
cd /Users/user/PWorks/RD/hft-poc/golang/cmd/ors_client
go run main.go -gateway localhost:50052
```

**éªŒè¯**:
- ç»ˆç«¯1åº”æ˜¾ç¤ºæ¥æ”¶åˆ°è®¢å•å¹¶å›æŠ¥
- ç»ˆç«¯3åº”æ˜¾ç¤ºè®¢å•çŠ¶æ€æ›´æ–°

---

### æ–¹å¼3: æŒ‡æ ‡æ¼”ç¤º (æ— ç½‘ç»œä¾èµ–)

**é€‚ç”¨åœºæ™¯**: æ¼”ç¤ºæŒ‡æ ‡è®¡ç®—ï¼Œä¸éœ€è¦Gateway

```bash
cd /Users/user/PWorks/RD/hft-poc/golang/cmd/indicator_demo
go run main.go
```

**éªŒè¯**: åº”æ˜¾ç¤º10ä¸ªæŒ‡æ ‡çš„è®¡ç®—ç»“æœå’Œæ€§èƒ½ç»Ÿè®¡

---

## ğŸ§ª å…¨é“¾è·¯æµ‹è¯• (End-to-End Test)

### æµ‹è¯•ç›®æ ‡
éªŒè¯ä»è¡Œæƒ…æ¥æ”¶ â†’ ç­–ç•¥å†³ç­– â†’ è®¢å•å‘é€ â†’ å›æŠ¥å¤„ç†çš„å®Œæ•´æµç¨‹

---

### å‡†å¤‡å·¥ä½œ

#### 1. æ£€æŸ¥ä¾èµ–
```bash
# æ£€æŸ¥NATS (å¯é€‰ï¼Œå¦‚æœä½¿ç”¨NATSè®¢é˜…)
which nats-server
# å¦‚æœæ²¡æœ‰: brew install nats-server

# æ£€æŸ¥Go
go version  # éœ€è¦ >= 1.19

# æ£€æŸ¥Gatewayå¯æ‰§è¡Œæ–‡ä»¶
ls -la /Users/user/PWorks/RD/hft-poc/gateway/build/
# åº”è¯¥çœ‹åˆ°: md_simulator, md_gateway, ors_gateway, counter_gateway
```

#### 2. æ¸…ç†ç¯å¢ƒ
```bash
# æ¸…ç†å…±äº«å†…å­˜
rm -f /tmp/hft_* /dev/shm/hft_* 2>/dev/null

# åœæ­¢æ—§è¿›ç¨‹
pkill -f "md_gateway"
pkill -f "ors_gateway"
pkill -f "counter_gateway"
pkill -f "md_simulator"
pkill -f "nats-server"
```

---

### å¯åŠ¨é¡ºåº (é‡è¦ï¼)

#### Step 1: å¯åŠ¨NATS (å¯é€‰)
```bash
# ç»ˆç«¯1
nats-server --port 4222

# éªŒè¯
nats-cli ping
```

---

#### Step 2: å¯åŠ¨Counter Gateway (äº¤æ˜“æ‰€ä¾§)
```bash
# ç»ˆç«¯2
cd /Users/user/PWorks/RD/hft-poc/gateway/build
./counter_gateway -r ors_request -s ors_response

# åº”è¯¥çœ‹åˆ°:
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘             HFT Counter Gateway (Simulated)              â•‘
# â•‘                  Connecting to Exchange                   â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# [Main] Request queue opened: ors_request
# [Main] Response queue opened: ors_response
# [Counter] Initialized (type: Simulated)
```

**å…³é”®ç‚¹**: Counter Gatewayå¿…é¡»å…ˆå¯åŠ¨ï¼Œåˆ›å»ºå…±äº«å†…å­˜é˜Ÿåˆ—

---

#### Step 3: å¯åŠ¨ORS Gateway (è®¢å•ç½‘å…³)
```bash
# ç»ˆç«¯3
cd /Users/user/PWorks/RD/hft-poc/gateway/build
./ors_gateway -a 0.0.0.0:50052 -r ors_request -s ors_response

# åº”è¯¥çœ‹åˆ°:
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘         HFT Order Routing Service (ORS) Gateway          â•‘
# â•‘                   Shared Memory Mode                      â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# [Main] gRPC server listening on 0.0.0.0:50052
# [ResponseReader] Started
```

**å…³é”®ç‚¹**: ORS Gatewayè¿æ¥å…±äº«å†…å­˜é˜Ÿåˆ—ï¼Œæä¾›gRPCæœåŠ¡

---

#### Step 4: å¯åŠ¨MD Simulator (è¡Œæƒ…æº)
```bash
# ç»ˆç«¯4
cd /Users/user/PWorks/RD/hft-poc/gateway/build
./md_simulator 100 queue  # 100Hzè¡Œæƒ…ï¼Œé€‚åˆæµ‹è¯•

# åº”è¯¥çœ‹åˆ°:
# Market Data Simulator
# Frequency: 100 Hz
# Queue: queue
# Press Ctrl+C to stop
#
# [Simulator] Pushed 1000 ticks to queue...
```

**å…³é”®ç‚¹**:
- é¢‘ç‡ä¸è¦å¤ªé«˜ï¼Œ100-1000Hzé€‚åˆæµ‹è¯•
- é˜Ÿåˆ—åç§°è¦ä¸MD GatewayåŒ¹é…

---

#### Step 5: å¯åŠ¨MD Gateway (è¡Œæƒ…ç½‘å…³)
```bash
# ç»ˆç«¯5
cd /Users/user/PWorks/RD/hft-poc/gateway/build
./md_gateway queue  # é˜Ÿåˆ—åç§°ä¸simulatoråŒ¹é…

# åº”è¯¥çœ‹åˆ°:
# [Main] MD Gateway starting...
# [Main] Shared memory queue opened: queue
# [Main] gRPC server listening on 0.0.0.0:50051
# [Reader] Processed 1000 messages, avg latency: 8.5 Î¼s
```

**å…³é”®ç‚¹**:
- é˜Ÿåˆ—åç§°å¿…é¡»ä¸MD SimulatoråŒ¹é…
- è§‚å¯Ÿå»¶è¿Ÿç»Ÿè®¡ï¼Œåº”è¯¥åœ¨10Î¼sä»¥å†…

---

#### Step 6: å¯åŠ¨ç­–ç•¥å¼•æ“ (ä¸šåŠ¡å±‚)
```bash
# ç»ˆç«¯6
cd /Users/user/PWorks/RD/hft-poc/golang/cmd/integrated_demo

# å¦‚æœæœ‰ç¼–è¯‘é”™è¯¯ï¼Œå…ˆä¿®å¤
# ç„¶åè¿è¡Œ
go run main.go

# åº”è¯¥çœ‹åˆ°:
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘         HFT Integrated System Demo                       â•‘
# â•‘    Strategy Engine + Portfolio + Risk Management         â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# [Main] Creating Risk Manager...
# [Main] âœ“ Risk Manager started
# [Main] Creating Portfolio Manager...
# [Main] âœ“ Portfolio Manager started
# [Main] Creating Strategy Engine...
# [Main] Warning: Failed to connect to ORS Gateway (may continue in demo mode)
# [Main] Creating strategies...
```

---

### éªŒè¯æ£€æŸ¥æ¸…å•

#### âœ… Gatewayå±‚éªŒè¯

**MD Gatewayæ£€æŸ¥**:
```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep md_gateway

# æ£€æŸ¥å…±äº«å†…å­˜
ls -lh /tmp/hft_md_* /dev/shm/hft_md_*

# æ£€æŸ¥gRPCç«¯å£
lsof -i :50051

# æŸ¥çœ‹æ—¥å¿—ç»Ÿè®¡
tail -f /tmp/gateway.log  # å¦‚æœæœ‰æ—¥å¿—æ–‡ä»¶
```

**ORS Gatewayæ£€æŸ¥**:
```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep ors_gateway

# æ£€æŸ¥gRPCç«¯å£
lsof -i :50052

# æ£€æŸ¥å…±äº«å†…å­˜é˜Ÿåˆ—
ls -lh /tmp/ors_*
```

**Counter Gatewayæ£€æŸ¥**:
```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep counter_gateway

# æŸ¥çœ‹è®¢å•å¤„ç†æ—¥å¿—
# ç»ˆç«¯2åº”è¯¥æ˜¾ç¤º: [Callback] Order accepted/filled
```

---

#### âœ… è¡Œæƒ…é“¾è·¯éªŒè¯

**æµ‹è¯•è¡Œæƒ…æ¥æ”¶**:
```bash
# æ–°ç»ˆç«¯
cd /Users/user/PWorks/RD/hft-poc/golang/cmd/md_client
go run main.go -gateway localhost:50051 -symbols ag2412

# åº”è¯¥çœ‹åˆ°:
# [Client] Connected to gateway: localhost:50051
# [Client] Subscribed to symbols: [ag2412]
# [Client] Received: ag2412 @ 5321.50 | Latency: 125Î¼s
# [Stats] 1000 ticks | Avg: 120Î¼s | P99: 250Î¼s | Rate: 995/s
```

**é¢„æœŸæŒ‡æ ‡**:
- âœ… å»¶è¿Ÿ < 500Î¼s (æœ¬åœ°æµ‹è¯•)
- âœ… ååé‡æ¥è¿‘æ¨¡æ‹Ÿå™¨é¢‘ç‡
- âœ… æ— æ¶ˆæ¯ä¸¢å¤±

---

#### âœ… è®¢å•é“¾è·¯éªŒè¯

**æµ‹è¯•è®¢å•å‘é€**:
```bash
# æ–°ç»ˆç«¯
cd /Users/user/PWorks/RD/hft-poc/golang/cmd/ors_client
go run main.go -gateway localhost:50052

# åº”è¯¥çœ‹åˆ°:
# [Client] Connected to ORS Gateway: localhost:50052
# [Client] Sending test order...
# [Client] Order sent: order_12345
# [Client] Update: order_12345 -> ACCEPTED
# [Client] Update: order_12345 -> FILLED (100 @ 5321.50)
```

**é¢„æœŸæŒ‡æ ‡**:
- âœ… è®¢å•å»¶è¿Ÿ < 1ms
- âœ… çŠ¶æ€: NEW â†’ ACCEPTED â†’ FILLED
- âœ… æ— æ‹’å• (æ¨¡æ‹Ÿæ¨¡å¼ä¸‹)

---

#### âœ… ç­–ç•¥å¼•æ“éªŒè¯

**æ£€æŸ¥ç­–ç•¥çŠ¶æ€**:
```bash
# åœ¨integrated_demoç»ˆç«¯è§‚å¯Ÿ
# åº”è¯¥çœ‹åˆ°:
# [Strategy:passive_ag] Generated signal: BUY 10 @ 5321.25
# [Strategy:aggressive_cu] Generated signal: BUY 20 @ 7654.00
# [RiskManager] Checking limits...
# [Portfolio] Updated position: ag2412 +10
```

**é¢„æœŸè¡Œä¸º**:
- âœ… ç­–ç•¥æ¥æ”¶è¡Œæƒ…å¹¶ç”Ÿæˆä¿¡å·
- âœ… é£æ§æ£€æŸ¥é€šè¿‡
- âœ… ç»„åˆç®¡ç†æ›´æ–°æŒä»“
- âœ… è®¢å•å‘é€åˆ°ORS Gateway

---

### æ€§èƒ½æŒ‡æ ‡å‚è€ƒ

| ç¯èŠ‚ | é¢„æœŸå»¶è¿Ÿ | å¤‡æ³¨ |
|------|---------|------|
| **Simulator â†’ SharedMemory** | < 1Î¼s | å†…å­˜å†™å…¥ |
| **SharedMemory â†’ MD Gateway** | < 10Î¼s | å†…å­˜è¯»å–+è½¬æ¢ |
| **MD Gateway â†’ gRPC Client** | < 100Î¼s | æœ¬åœ°ç½‘ç»œ |
| **gRPC Client â†’ Strategy** | < 50Î¼s | å‡½æ•°è°ƒç”¨ |
| **ç«¯åˆ°ç«¯è¡Œæƒ…å»¶è¿Ÿ** | **< 200Î¼s** | æ€»å»¶è¿Ÿ |
| | | |
| **Strategy â†’ ORS Client** | < 50Î¼s | å‡½æ•°è°ƒç”¨ |
| **ORS Client â†’ ORS Gateway** | < 100Î¼s | gRPCè°ƒç”¨ |
| **ORS Gateway â†’ SharedMemory** | < 10Î¼s | å†…å­˜å†™å…¥ |
| **SharedMemory â†’ Counter** | < 10Î¼s | å†…å­˜è¯»å– |
| **Counter â†’ Exchange(æ¨¡æ‹Ÿ)** | < 50Î¼s | æ¨¡æ‹Ÿæˆäº¤ |
| **ç«¯åˆ°ç«¯è®¢å•å»¶è¿Ÿ** | **< 300Î¼s** | æ€»å»¶è¿Ÿ |

**æ³¨æ„**: ä»¥ä¸Šæ˜¯æœ¬åœ°æµ‹è¯•çš„ç†æƒ³å€¼ï¼Œå®ç›˜ç¯å¢ƒä¼šå—ç½‘ç»œå»¶è¿Ÿå½±å“

---

## ğŸ”§ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: Gatewayæ— æ³•å¯åŠ¨

**ç—‡çŠ¶**:
```
Error: Failed to open shared memory queue
```

**åŸå› **: å…±äº«å†…å­˜æ–‡ä»¶æƒé™é—®é¢˜æˆ–å·²å­˜åœ¨

**è§£å†³**:
```bash
# æ¸…ç†å…±äº«å†…å­˜
rm -f /tmp/hft_* /dev/shm/hft_*

# é‡æ–°å¯åŠ¨
```

---

### é—®é¢˜2: MD Clientæ— æ³•è¿æ¥

**ç—‡çŠ¶**:
```
Failed to connect to gateway: connection refused
```

**åŸå› **: MD Gatewayæœªå¯åŠ¨æˆ–ç«¯å£ä¸å¯¹

**è§£å†³**:
```bash
# æ£€æŸ¥MD Gatewayè¿›ç¨‹
ps aux | grep md_gateway

# æ£€æŸ¥ç«¯å£
lsof -i :50051

# ç¡®è®¤å¯åŠ¨é¡ºåº: Simulator â†’ Gateway â†’ Client
```

---

### é—®é¢˜3: æ— è¡Œæƒ…æ•°æ®

**ç—‡çŠ¶**: MD Clientè¿æ¥æˆåŠŸä½†æ”¶ä¸åˆ°è¡Œæƒ…

**åŸå› **:
- Simulatoræœªå¯åŠ¨
- é˜Ÿåˆ—åç§°ä¸åŒ¹é…
- Simulatoré¢‘ç‡ä¸º0

**è§£å†³**:
```bash
# æ£€æŸ¥Simulatorè¿›ç¨‹
ps aux | grep md_simulator

# æ£€æŸ¥é˜Ÿåˆ—åç§°
# Simulator: ./md_simulator 100 queue
# Gateway:   ./md_gateway queue
# å¿…é¡»åŒ¹é…ï¼

# é‡å¯Simulatorå¹¶æŒ‡å®šåˆç†é¢‘ç‡
./md_simulator 100 queue
```

---

### é—®é¢˜4: è®¢å•æ— å“åº”

**ç—‡çŠ¶**: å‘é€è®¢å•åæ— å›æŠ¥

**åŸå› **:
- Counter Gatewayæœªå¯åŠ¨
- å…±äº«å†…å­˜é˜Ÿåˆ—ä¸åŒ¹é…
- ORS Gatewayæœªè¿æ¥Counter

**è§£å†³**:
```bash
# æ£€æŸ¥å¯åŠ¨é¡ºåº (å¿…é¡»æŒ‰é¡ºåºï¼)
# 1. Counter Gateway (åˆ›å»ºé˜Ÿåˆ—)
# 2. ORS Gateway (è¿æ¥é˜Ÿåˆ—)

# æ£€æŸ¥é˜Ÿåˆ—åç§°ä¸€è‡´
# Counter: ./counter_gateway -r ors_request -s ors_response
# ORS:     ./ors_gateway -r ors_request -s ors_response
```

---

### é—®é¢˜5: Demoç¨‹åºç¼–è¯‘é”™è¯¯

**ç—‡çŠ¶**:
```
fmt.Println arg list ends with redundant newline
```

**åŸå› **: fmt.Printlnä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ æ¢è¡Œç¬¦

**è§£å†³**:
```bash
# æ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„ä»£ç :
fmt.Println("message\n")

# ä¿®æ”¹ä¸º:
fmt.Println("message")
```

---

### é—®é¢˜6: ç­–ç•¥æ— ä¿¡å·

**ç—‡çŠ¶**: Strategy Engineå¯åŠ¨ä½†ä¸ç”Ÿæˆäº¤æ˜“ä¿¡å·

**åŸå› **:
- æœªæ”¶åˆ°è¡Œæƒ…
- æŒ‡æ ‡æœªå°±ç»ª
- ä¿¡å·é˜ˆå€¼å¤ªé«˜

**è§£å†³**:
```bash
# 1. æ£€æŸ¥æ˜¯å¦æ”¶åˆ°è¡Œæƒ…
# åœ¨Strategy Engineè¾“å‡ºä¸­æŸ¥æ‰¾: [Strategy] OnMarketData

# 2. é™ä½ä¿¡å·é˜ˆå€¼ (ä¿®æ”¹é…ç½®)
"signal_threshold": 0.1  # ä»0.6é™åˆ°0.1

# 3. ç¦ç”¨æ³¢åŠ¨ç‡æ£€æŸ¥
"min_volatility": 0.0
```

---

## ğŸ“ æµ‹è¯•è„šæœ¬

### è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ (å·²æœ‰)

**MD Gateway + NATSæµ‹è¯•**:
```bash
cd /Users/user/PWorks/RD/hft-poc
./scripts/test_md_gateway_with_nats.sh
```

**åŠŸèƒ½**:
- è‡ªåŠ¨å¯åŠ¨NATSã€Simulatorã€Gateway
- è¿è¡Œ10ç§’æµ‹è¯•
- æ˜¾ç¤ºç»Ÿè®¡ç»“æœ
- è‡ªåŠ¨æ¸…ç†

---

### å…¨é“¾è·¯æµ‹è¯•è„šæœ¬ (æ¨èåˆ›å»º)

åˆ›å»º `scripts/test_full_chain.sh`:

```bash
#!/bin/bash
set -e

echo "================================================"
echo "  HFT Full Chain Integration Test"
echo "================================================"

PROJECT_ROOT="/Users/user/PWorks/RD/hft-poc"
BUILD_DIR="$PROJECT_ROOT/gateway/build"

# æ¸…ç†å‡½æ•°
cleanup() {
    echo "Stopping all services..."
    pkill -f "md_gateway" 2>/dev/null || true
    pkill -f "ors_gateway" 2>/dev/null || true
    pkill -f "counter_gateway" 2>/dev/null || true
    pkill -f "md_simulator" 2>/dev/null || true
    rm -f /tmp/hft_* /dev/shm/hft_* 2>/dev/null || true
    echo "Cleanup done"
}

trap cleanup EXIT INT TERM

# 1. å¯åŠ¨Counter Gateway
echo "[1/5] Starting Counter Gateway..."
cd "$BUILD_DIR"
./counter_gateway -r ors_request -s ors_response > /tmp/counter.log 2>&1 &
COUNTER_PID=$!
sleep 2

# 2. å¯åŠ¨ORS Gateway
echo "[2/5] Starting ORS Gateway..."
./ors_gateway -a 0.0.0.0:50052 -r ors_request -s ors_response > /tmp/ors.log 2>&1 &
ORS_PID=$!
sleep 2

# 3. å¯åŠ¨MD Simulator
echo "[3/5] Starting MD Simulator (100Hz)..."
./md_simulator 100 queue > /tmp/simulator.log 2>&1 &
SIMULATOR_PID=$!
sleep 2

# 4. å¯åŠ¨MD Gateway
echo "[4/5] Starting MD Gateway..."
./md_gateway queue > /tmp/md_gateway.log 2>&1 &
GATEWAY_PID=$!
sleep 3

# 5. æµ‹è¯•è¡Œæƒ…æ¥æ”¶
echo "[5/5] Testing market data reception..."
cd "$PROJECT_ROOT/golang/cmd/md_client"
timeout 10s go run main.go -gateway localhost:50051 -symbols ag2412 > /tmp/md_client.log 2>&1 || true

# æ˜¾ç¤ºç»“æœ
echo ""
echo "================================================"
echo "  Test Results"
echo "================================================"
echo "Counter Gateway: PID=$COUNTER_PID"
grep -E "(Order|accepted|filled)" /tmp/counter.log | head -5 || echo "  No orders yet"
echo ""
echo "MD Gateway: PID=$GATEWAY_PID"
grep -E "(Processed|messages)" /tmp/md_gateway.log | tail -3 || echo "  No statistics"
echo ""
echo "MD Client:"
grep -E "(Received|Stats)" /tmp/md_client.log | tail -5 || echo "  No data received"
echo ""
echo "Full logs:"
echo "  Counter:  /tmp/counter.log"
echo "  ORS:      /tmp/ors.log"
echo "  Simulator:/tmp/simulator.log"
echo "  Gateway:  /tmp/md_gateway.log"
echo "  Client:   /tmp/md_client.log"
echo "================================================"
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### 1. ç«‹å³å¯åš (10åˆ†é’Ÿ)

ä¿®å¤Demoç¨‹åºç¼–è¯‘é”™è¯¯:
```bash
cd /Users/user/PWorks/RD/hft-poc/golang

# æ‰¾åˆ°æ‰€æœ‰ fmt.Println("...\n") å¹¶ç§»é™¤ \n
grep -r "fmt.Println.*\\\\n" cmd/

# æˆ–æ‰¹é‡ä¿®å¤
find cmd/ -name "*.go" -exec sed -i '' 's/fmt.Println("\(.*\)\\n")/fmt.Println("\1")/g' {} \;
```

---

### 2. åŸºç¡€æµ‹è¯• (30åˆ†é’Ÿ)

**æµ‹è¯•1**: Gatewayæ€§èƒ½æµ‹è¯•
```bash
# ä½¿ç”¨å·²æœ‰è„šæœ¬
./scripts/test_md_gateway_with_nats.sh
```

**æµ‹è¯•2**: æ‰‹åŠ¨å…¨é“¾è·¯æµ‹è¯•
- æŒ‰ç…§ä¸Šè¿°å¯åŠ¨é¡ºåºä¾æ¬¡å¯åŠ¨æ‰€æœ‰æœåŠ¡
- éªŒè¯æ¯ä¸ªç¯èŠ‚çš„æ•°æ®æµ

---

### 3. åˆ›å»ºè‡ªåŠ¨åŒ–è„šæœ¬ (1å°æ—¶)

åˆ›å»ºä»¥ä¸‹è„šæœ¬æ–¹ä¾¿æ—¥å¸¸å¼€å‘:

1. `scripts/start_all.sh` - å¯åŠ¨æ‰€æœ‰æœåŠ¡
2. `scripts/stop_all.sh` - åœæ­¢æ‰€æœ‰æœåŠ¡
3. `scripts/test_full_chain.sh` - å…¨é“¾è·¯æµ‹è¯•
4. `scripts/check_status.sh` - æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€

---

## ğŸ“Š ç›‘æ§å’Œè°ƒè¯•

### æ€§èƒ½ç›‘æ§

**å®æ—¶ç›‘æ§å‘½ä»¤**:
```bash
# è¿›ç¨‹ç›‘æ§
watch -n 1 'ps aux | grep -E "(gateway|simulator)" | grep -v grep'

# å…±äº«å†…å­˜ç›‘æ§
watch -n 1 'ls -lh /tmp/hft_* /dev/shm/hft_* 2>/dev/null'

# ç«¯å£ç›‘æ§
watch -n 1 'lsof -i :50051,50052'

# ç³»ç»Ÿèµ„æº
htop  # æŸ¥çœ‹CPUå’Œå†…å­˜
```

---

### æ—¥å¿—åˆ†æ

**å…³é”®æ—¥å¿—ä½ç½®**:
```bash
# Gatewayæ—¥å¿— (å¦‚æœé‡å®šå‘)
/tmp/md_gateway.log
/tmp/ors.log
/tmp/counter.log
/tmp/simulator.log

# ç­–ç•¥æ—¥å¿— (stdout)
# åœ¨è¿è¡Œç»ˆç«¯æŸ¥çœ‹

# ç³»ç»Ÿæ—¥å¿—
/var/log/system.log  # macOS
```

**åˆ†æå‘½ä»¤**:
```bash
# æŸ¥æ‰¾é”™è¯¯
grep -i error /tmp/*.log

# ç»Ÿè®¡ååé‡
grep "Processed" /tmp/md_gateway.log | tail -10

# æŸ¥çœ‹å»¶è¿Ÿåˆ†å¸ƒ
grep "latency" /tmp/md_client.log
```

---

### è°ƒè¯•æŠ€å·§

**1. ä½¿ç”¨gdbè°ƒè¯•C++ç¨‹åº**:
```bash
cd /Users/user/PWorks/RD/hft-poc/gateway/build
gdb ./md_gateway
(gdb) run queue
(gdb) bt  # å¦‚æœå´©æºƒï¼ŒæŸ¥çœ‹å †æ ˆ
```

**2. ä½¿ç”¨delveè°ƒè¯•Goç¨‹åº**:
```bash
cd golang/cmd/md_client
dlv debug main.go -- -gateway localhost:50051
(dlv) break main.main
(dlv) continue
```

**3. ç½‘ç»œæŠ“åŒ…**:
```bash
# æŠ“å–gRPCæµé‡
sudo tcpdump -i lo0 -nn -X port 50051 or port 50052

# ä½¿ç”¨Wireshark
# Filter: tcp.port == 50051 || tcp.port == 50052
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

### æ¶æ„æ–‡æ¡£
- [GATEWAY_IMPLEMENTATION_STATUS.md](GATEWAY_IMPLEMENTATION_STATUS.md) - Gatewayå®ç°çŠ¶æ€
- [INDICATOR_IMPLEMENTATION_STATUS.md](INDICATOR_IMPLEMENTATION_STATUS.md) - æŒ‡æ ‡å®ç°çŠ¶æ€
- [TEST_FIXES_REPORT.md](golang/TEST_FIXES_REPORT.md) - æµ‹è¯•ä¿®å¤æŠ¥å‘Š
- [P0_INDICATORS_COMPLETION_REPORT.md](golang/pkg/indicators/P0_INDICATORS_COMPLETION_REPORT.md) - P0æŒ‡æ ‡å®ŒæˆæŠ¥å‘Š

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**: C++17, Go 1.19+
- **é€šä¿¡**: gRPC, NATS, Shared Memory
- **åºåˆ—åŒ–**: Protocol Buffers 3
- **å¹¶å‘**: C++ std::thread, Go goroutines

### å¤–éƒ¨ä¾èµ–
- NATS Server (å¯é€‰)
- Protocol Buffersç¼–è¯‘å™¨
- gRPCåº“
- CMake (æ„å»ºGateway)

---

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰æ£€æŸ¥:

- [ ] æ‰€æœ‰Gatewayå¯æ‰§è¡Œæ–‡ä»¶å·²ç¼–è¯‘
- [ ] å…±äº«å†…å­˜æƒé™æ­£ç¡® (/tmp å’Œ /dev/shm)
- [ ] ç«¯å£50051å’Œ50052æœªè¢«å ç”¨
- [ ] NATS Serverå·²å®‰è£… (å¦‚éœ€è¦)
- [ ] Goç¯å¢ƒé…ç½®æ­£ç¡®
- [ ] Demoç¨‹åºç¼–è¯‘é”™è¯¯å·²ä¿®å¤

å¯åŠ¨æ£€æŸ¥:

- [ ] Counter Gatewayå…ˆå¯åŠ¨
- [ ] ORS Gatewayæ­£å¸¸è¿æ¥
- [ ] MD Simulatorç”Ÿæˆè¡Œæƒ…
- [ ] MD Gatewayæ¥æ”¶è¡Œæƒ…
- [ ] å®¢æˆ·ç«¯å¯è¿æ¥Gateway
- [ ] è®¢å•å¯æ­£å¸¸å‘é€å’Œå›æŠ¥

è¿è¡Œæ£€æŸ¥:

- [ ] è¡Œæƒ…å»¶è¿Ÿ < 500Î¼s
- [ ] è®¢å•å»¶è¿Ÿ < 1ms
- [ ] æ— æ¶ˆæ¯ä¸¢å¤±
- [ ] æ— å¼‚å¸¸æ—¥å¿—
- [ ] ç­–ç•¥æ­£å¸¸ç”Ÿæˆä¿¡å·
- [ ] é£æ§æ­£å¸¸å·¥ä½œ

---

## ğŸ‰ æ€»ç»“

HFT-POCç³»ç»Ÿé‡‡ç”¨**åˆ†å±‚æ¶æ„**:
- **Gatewayå±‚** (C++): é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„æ•°æ®é€šé“
- **åº”ç”¨å±‚** (Golang): çµæ´»çš„ç­–ç•¥å¼•æ“å’Œé£æ§ç³»ç»Ÿ

**æ ¸å¿ƒä¼˜åŠ¿**:
- âœ… å…±äº«å†…å­˜å®ç°å¾®ç§’çº§å»¶è¿Ÿ
- âœ… æ¨¡å—åŒ–è®¾è®¡ä¾¿äºæ‰©å±•
- âœ… å®Œå–„çš„æµ‹è¯•è¦†ç›–
- âœ… æ”¯æŒæ¨¡æ‹Ÿå’Œå®ç›˜åˆ‡æ¢

**å½“å‰çŠ¶æ€**:
- æ ¸å¿ƒåŠŸèƒ½å®Œæ•´ âœ…
- éœ€è¦ä¿®å¤Demoç¼–è¯‘é”™è¯¯ âš ï¸
- éœ€è¦è¡¥å……MD GatewayçœŸå®æ•°æ®æº ğŸ”„

**ä¸‹ä¸€æ­¥**: æŒ‰ç…§æœ¬æ–‡æ¡£å®Œæˆå…¨é“¾è·¯æµ‹è¯•ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ã€‚
